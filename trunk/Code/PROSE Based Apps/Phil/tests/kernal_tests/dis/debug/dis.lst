Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Z80 disassemle
                           A     2    ;----------------------------------------------
                           A     3    
       00000000            A     4    amoeba_version_req	equ	0				; 0 = d
       00000000            A     5    prose_version_req	equ 0				; 0 = d
       00000001            A     6    ADL_mode			equ 1				; 0 if 
       00010000            A     7    load_location		equ 10000h			; anywh
                           A     8    
                           B     0    			include	'PROSE_header.asm'
                           B     1    ;--- EZ80 Internal CPU Ports ------------------
                           B     2    
       0000009A            B     3    PB_DR			equ 09ah
       0000009B            B     4    PB_DDR			equ 09bh
       0000009C            B     5    PB_ALT1			equ 09ch
       0000009D            B     6    PB_ALT2			equ 09dh
                           B     7    
       0000009E            B     8    PC_DR			equ 09eh
       0000009F            B     9    PC_DDR			equ 09fh
       000000A0            B    10    PC_ALT1			equ 0a0h
       000000A1            B    11    PC_ALT2			equ 0a1h
                           B    12    
       000000A2            B    13    PD_DR			equ 0a2h
       000000A3            B    14    PD_DDR			equ 0a3h
       000000A4            B    15    PD_ALT1			equ 0a4h
       000000A5            B    16    PD_ALT2			equ 0a5h
                           B    17    
       000000C0            B    18    UART0_RBR		equ 0c0h
       000000C0            B    19    UART0_THR		equ 0c0h
       000000C0            B    20    UART0_BRG_L		equ 0c0h
       000000C1            B    21    UART0_BRG_H		equ 0c1h
       000000C1            B    22    UART0_IER		equ 0c1h
       000000C2            B    23    UART0_FCTL		equ 0c2h
       000000C3            B    24    UART0_LCTL		equ 0c3h
       000000C4            B    25    UART0_MCTL		equ 0c4h
       000000C5            B    26    UART0_LSR		equ 0c5h
       000000C6            B    27    UART0_MSR		equ 0c6h
                           B    28    
       000000A8            B    29    CS0_LBR			equ 0a8h			;eZ80 wait 
       000000A9            B    30    CS0_UBR			equ 0a9h
       000000AA            B    31    CS0_CTL			equ 0aah			
       000000AB            B    32    CS1_LBR			equ 0abh			;eZ80 wait 
       000000AC            B    33    CS1_UBR			equ 0ach
       000000AD            B    34    CS1_CTL			equ 0adh
       000000AE            B    35    CS2_LBR			equ 0aeh			;eZ80 wait 
       000000AF            B    36    CS2_UBR			equ 0afh
       000000B0            B    37    CS2_CTL			equ 0b0h
       000000B1            B    38    CS3_LBR			equ 0b1h			;eZ80 wait 
       000000B2            B    39    CS3_UBR			equ 0b2h
       000000B3            B    40    CS3_CTL			equ 0b3h
                           B    41    
       00000080            B    42    TMR0_CTL		equ 080h			;timer 0 eq
       00000081            B    43    TMR0_DR_L		equ 081h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   2


PC     Object              I  Line    Source ..\..\..\..\..\Includes\PROSE_header.asm
       00000081            B    44    TMR0_RR_L		equ 081h
       00000082            B    45    TMR0_DR_H		equ 082h
       00000082            B    46    TMR0_RR_H		equ 082h
       00000092            B    47    TMR_ISS			equ 092h
                           B    48    
       000000ED            B    49    RTC_CTRL		equ 0edh			;RTC equate
       000000EC            B    50    RTC_ACTRL		equ 0ech
       000000E0            B    51    RTC_SEC			equ 0e0h
       000000E1            B    52    RTC_MIN			equ 0e1h
       000000E2            B    53    RTC_HRS			equ 0e2h
       000000E3            B    54    RTC_DOW			equ 0e3h
       000000E4            B    55    RTC_DOM			equ 0e4h
       000000E5            B    56    RTC_MON			equ 0e5h
       000000E6            B    57    RTC_YR			equ 0e6h
       000000E7            B    58    RTC_CEN			equ 0e7h
                           B    59    
                           B    60    ;-- EZ80P Hardware equates --------------------
                           B    61    
       00000000            B    62    port_pic_data  			equ 000h
       00000001            B    63    port_pic_ctrl			equ 001h
       00000001            B    64    port_hw_flags			equ 001h
       00000002            B    65    port_sdc_ctrl			equ 002h	; this is a
       00000002            B    66    port_keyboard_data		equ 002h
       00000003            B    67    port_sdc_data		 	equ 003h	
       00000004            B    68    port_memory_paging		equ 004h
       00000005            B    69    port_irq_ctrl			equ 005h
       00000005            B    70    port_irq_flags			equ 005h
       00000006            B    71    port_nmi_ack			equ 006h
       00000007            B    72    port_ps2_ctrl			equ 007h
       00000008            B    73    port_selector			equ 008h
       00000006            B    74    port_mouse_data			equ 006h
       00000009            B    75    port_clear_flags		equ 009h
                           B    76    
       00000000            B    77    sdc_power				equ 0		;(port_sd_c
       00000001            B    78    sdc_cs					equ 1		;(port_sd_c
       00000002            B    79    sdc_speed				equ 2 		;(port_sd_c
                           B    80    
       00000004            B    81    sdc_serializer_busy		equ 4 		;(port_hw_f
       00000005            B    82    vrt						equ 5		;(port_hw_f
                           B    83    
                           B    84    
                           B    85    ;-- Memory locations --------------------------
                           B    86    
       00000000            B    87    sysram_addr				equ 0000000h
       00800000            B    88    vram_a_addr				equ 0800000h
       00C00000            B    89    vram_b_addr				equ 0c00000h
                           B    90    
                           B    91    ;-- Hardware registers ------------------------
                           B    92    
       00FF0000            B    93    hw_palette				equ 0ff0000h
       00FF0800            B    94    hw_sprite_registers		equ 0ff0800h
       00FF1000            B    95    hw_video_parameters		equ 0ff1000h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   3


PC     Object              I  Line    Source ..\..\..\..\..\Includes\PROSE_header.asm
       00FF1400            B    96    hw_audio_registers		equ 0ff1400h
       00FF1800            B    97    hw_video_settings		equ 0ff1800h
                           B    98    
       00FF1000            B    99    tilemap_parameters		equ hw_video_parameters
       00FF1020            B   100    bitmap_parameters		equ hw_video_parameters
                           B   101    
       00FF1800            B   102    video_control			equ hw_video_settings+0
       00FF1801            B   103    sprite_control			equ hw_video_settings+0
       00FF1802            B   104    bgnd_palette_select		equ hw_video_settings+0
       00FF1803            B   105    sprite_palette_select	equ hw_video_settings+0
       00FF1804            B   106    right_border_position	equ hw_video_settings+0
                           B   107    
                           B   108    ;----------------------------------------------
                           B   109    
       00000A00            B   110    os_start 	equ 0a00h
                           B   111    
       00000A14            B   112    prose_return equ os_start+14h
       00000A20            B   113    prose_kernal equ os_start+20h
                           B   114    
                           B   115    ;----------------------------------------------
                           B   116    ; Kernal Jump Table values for mode PROSE
                           B   117    ;----------------------------------------------
                           B   118    		
       00000000            B   119    kr_mount_volumes				equ 00h	
       00000001            B   120    kr_get_device_info				equ 01h	
       00000002            B   121    kr_check_volume_format			equ 02h	
       00000003            B   122    kr_change_volume				equ 03h	
       00000004            B   123    kr_get_volume_info				equ 04h	
       00000005            B   124    kr_format_device				equ 05h	
       00000006            B   125    kr_make_dir						equ 06h
                           B   126    
       00000007            B   127    kr_change_dir					equ 07h	
       00000008            B   128    kr_parent_dir					equ 08h	
       00000009            B   129    kr_root_dir						equ 09h
       0000000A            B   130    kr_delete_dir					equ 0ah
       0000000B            B   131    kr_find_file					equ 0bh
       0000000C            B   132    kr_set_file_pointer				equ 0ch
       0000000D            B   133    kr_set_load_length				equ 0dh
       0000000E            B   134    kr_read_file					equ 0eh
                           B   135    
       0000000F            B   136    kr_erase_file					equ 0fh
       00000010            B   137    kr_rename_file					equ 10h
       00000011            B   138    kr_create_file					equ 11h
       00000012            B   139    kr_write_file					equ 12h
       00000013            B   140    kr_get_total_sectors			equ 13h
       00000014            B   141    kr_dir_list_first_entry			equ 14h
       00000015            B   142    kr_dir_list_get_entry			equ 15h
       00000016            B   143    kr_dir_list_next_entry			equ 16h
                           B   144    
       00000017            B   145    kr_read_sector					equ 17h
       00000018            B   146    kr_write_sector					equ 18h
       00000019            B   147    kr_file_sector_list				equ 19h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   4


PC     Object              I  Line    Source ..\..\..\..\..\Includes\PROSE_header.asm
       0000001A            B   148    kr_get_dir_cluster				equ 1ah
       0000001B            B   149    kr_set_dir_cluster				equ 1bh
       0000001C            B   150    kr_get_dir_name					equ 1ch
       0000001D            B   151    kr_wait_key						equ 1dh
       0000001E            B   152    kr_get_key						equ 1eh
                           B   153    
       0000001F            B   154    kr_get_key_mod_flags			equ 1fh
       00000020            B   155    kr_serial_receive_header		equ 20h
       00000021            B   156    kr_serial_receive_file			equ 21h
       00000022            B   157    kr_serial_send_file				equ 22h
       00000023            B   158    kr_serial_tx_byte				equ 23h
       00000024            B   159    kr_serial_rx_byte				equ 24h
                           B   160    
       00000025            B   161    kr_print_string					equ 25h
       00000026            B   162    kr_clear_screen					equ 26h
       00000027            B   163    kr_wait_vrt						equ 27h
       00000028            B   164    kr_set_cursor_position			equ 28h
       00000029            B   165    kr_plot_char					equ 29h
       0000002A            B   166    kr_set_pen						equ 2ah
       0000002B            B   167    kr_background_colours			equ 2bh
       0000002C            B   168    kr_draw_cursor					equ 2ch
       0000002D            B   169    kr_get_pen						equ 2dh
       0000002E            B   170    kr_scroll_up					equ 2eh
       0000002F            B   171    kr_os_display					equ 2fh
                           B   172    
       00000030            B   173    kr_get_display_size				equ 30h	
       00000030            B   174    kr_get_video_mode				equ 30h	;prefer
                           B   175    
       00000031            B   176    kr_get_charmap_addr_xy			equ 31h
       00000032            B   177    kr_get_cursor_position			equ 32h
                           B   178    
       00000033            B   179    kr_set_envar					equ 33h
       00000034            B   180    kr_get_envar					equ 34h
       00000035            B   181    kr_delete_envar					equ 35h
                           B   182    
       00000036            B   183    kr_set_mouse_window				equ 36h
       00000037            B   184    kr_get_mouse_position			equ 37h
       00000038            B   185    kr_get_mouse_motion				equ 38h
                           B   186    
       00000039            B   187    kr_time_delay					equ 39h
       0000003A            B   188    kr_compare_strings				equ 3ah
       0000003B            B   189    kr_hex_byte_to_ascii			equ 3bh
       0000003C            B   190    kr_ascii_to_hex_word			equ 3ch
       0000003D            B   191    kr_get_string					equ 3dh
                           B   192    
       0000003E            B   193    kr_get_version					equ 3eh
       0000003F            B   194    kr_dont_store_registers			equ 3fh
       00000040            B   195    kr_get_font_info				equ 40h
       00000041            B   196    kr_read_rtc						equ 41h
       00000042            B   197    kr_write_rtc					equ 42h
                           B   198    
       00000043            B   199    kr_get_keymap_location			equ 43h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   5


PC     Object              I  Line    Source ..\..\..\..\..\Includes\PROSE_header.asm
       00000044            B   200    kr_get_os_high_mem				equ 44h
                           B   201    
       00000045            B   202    kr_play_audio					equ 45h
       00000046            B   203    kr_disable_audio				equ 46h
       00000047            B   204    kr_get_joysticks				equ 47h
       00000048            B   205    kr_set_video_mode				equ 48h
       00000049            B   206    kr_set_cursor_image				equ 49h
       0000004A            B   207    kr_remove_cursor				equ 4ah
       0000004B            B   208    kr_char_to_font				equ 4bh
                           B   209    
                           B   210    ;----------------------------------------------
                           B   211    ; Standard PROSE executable header
                           B   212    ;----------------------------------------------
                           B   213    
                           B   214    
                           B   215    	IF ADL_mode = 0
                           B   216    		org load_location&0ffffh	; if Z80 mo
                           B   217    	ELSE
010000                     B   218    		org load_location			; otherwise
                           B   219    	ENDIF
                           B   220    	
                           B   221    		.assume ADL = 1				; All PROSE
                           B   222    
010000 18 0E               B   223    		jr skip_header				; $0 - Jump
010002 50524F              B   224    		db 'PRO'					; $2 - ASCI
010005 000001              B   225    mb_loc	dw24 load_location			; $5 - Desi
010008 000000              B   226    		dw24 0						; $8 - If >
01000B 0000                B   227    		dw prose_version_req		; $B - If >
01000D 0000                B   228    		dw amoeba_version_req		; $D - If >
01000F 01                  B   229    		db ADL_mode					; $F - Z80 
                           B   230    
010010                     B   231    skip_header
                           B   232    	
                           B   233    	IF ADL_mode = 0 
                           B   234    		
                           B   235    mbase_offset equ load_location & 0ff0000h
                           B   236    
                           B   237    		ld a,load_location/65536	; Additiona
                           B   238    		ld MB,a						; Set MBASE
                           B   239    		jp.sis go_z80_mode			; switches 
                           B   240    
                           B   241    go_z80_mode
                           B   242    
                           B   243    		.assume ADL = 0
                           B   244    
                           B   245    	ENDIF
                           B   246    	
                           B   247    ;----------------------------------------------
                           B   248    	
                           A    10    
                           A    11    ;----------------------------------------------
                           A    12    ; ADL-mode user program follows..
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   6


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A    13    ;----------------------------------------------
                           A    14    
010010 CD 1A 00 01         A    15    			call my_prog
010014 AF                  A    16    			xor a
010015 5BC3140A 00         A    17    			jp.lil prose_return				; b
                           A    18    
                           A    19    ;----------------------------------------------
                           A    20    
01001A                     A    21    my_prog		
01001A CD 1F 00 01         A    22    			call disassemble				; d
01001E C9                  A    23    			ret
                           A    24    
                           A    25    ;----------------------------------------------
                           A    26    
                           A    27    ; Set IX = address to disassemble from..
                           A    28    ; on exit IX = next opcode address
                           A    29    
01001F                     A    30    disassemble	
01001F DD2A 9C 0A 01       A    31    			ld ix,(dis_addr)	
010024 CD BE 05 01         A    32    			call show_ix					; s
010028 3E20                A    33    			ld a,' '
01002A CD A3 05 01         A    34    			call show_ascii_char
                           A    35    
01002E FD21 DC 05 01       A    36    			ld iy,prefix_bits_loc
010033 FD360000            A    37    			ld (iy),0						; c
010037 CD 75 00 01         A    38    			call dis_instr
01003B DD23                A    39    			inc ix							; i
                           A    40    			
01003D DDE5                A    41    			push ix
01003F 3E32                A    42    			ld a,kr_get_cursor_position
010041 5BCD200A 00         A    43    			call.lil prose_kernal
010046 0618                A    44    			ld b,24
010048 3E28                A    45    			ld a,kr_set_cursor_position
01004A 5BCD200A 00         A    46    			call.lil prose_kernal
01004F DDE1                A    47    			pop ix
                           A    48    			
010051 ED4B 9C 0A 01       A    49    			ld bc,(dis_addr)
010056 DD22 9C 0A 01       A    50    			ld (dis_addr),ix
01005B DDE5                A    51    			push ix
01005D E1                  A    52    			pop hl
01005E AF                  A    53    			xor a
01005F ED42                A    54    			sbc hl,bc						;nu
010061 7D                  A    55    			ld a,l
010062 E607                A    56    			and 7
010064 6F                  A    57    			ld l,a
010065 0A                  A    58    shexoplp	ld a,(bc)
010066 CD 7F 05 01         A    59    			call show_hex_byte
01006A 3E20                A    60    			ld a,' '
01006C CD A3 05 01         A    61    			call show_ascii_char
010070 03                  A    62    			inc bc
010071 2D                  A    63    			dec l
010072 20 F1               A    64    			jr nz,shexoplp
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   7


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A    65    			
010074 C9                  A    66    			ret
                           A    67    
                           A    68    ;- Handle op code prefixes --------------------
                           A    69    			
       00000000            A    70    cb_prefix			equ 0					
       00000001            A    71    ed_prefix			equ 1
       00000002            A    72    sub_ix_prefix		equ 2
       00000003            A    73    sub_iy_prefix		equ 3
       00000004            A    74    ddcb_fdcb_prefix	equ 4					; p
       00000005            A    75    dot_l_prefix		equ 5
       00000006            A    76    il_prefix			equ 6
       00000007            A    77    show_adl_prefix		equ 7
                           A    78    
       00000000            A    79    adl_dis				equ 0					; b
                           A    80    
                           A    81    
010075 DD7E00              A    82    dis_instr	ld a,(ix)						; c
                           A    83    			
010078 FDCB 07 46          A    84    			bit adl_dis,(iy+var_adl)		; i
01007C 28 04               A    85    			jr z,z80_list					; T
01007E FDCB00F6            A    86    			set il_prefix,(iy)				; a
010082                     A    87    z80_list			
                           A    88    			
                           A    89    ;----------------------------------------------
                           A    90    
010082 FE40                A    91    			cp 40h
010084 20 0A               A    92    			jr nz,not_sis
010086 FDCB00B6            A    93    			res il_prefix,(iy)
01008A FDCB00AE            A    94    			res dot_l_prefix,(iy)
01008E 18 28               A    95    			jr set_adl_pf
                           A    96    			
010090 FE49                A    97    not_sis		cp 49h
010092 20 0A               A    98    			jr nz,not_lis
010094 FDCB00B6            A    99    			res il_prefix,(iy)
010098 FDCB00EE            A   100    			set dot_l_prefix,(iy)
01009C 18 1A               A   101    			jr set_adl_pf
                           A   102    			
01009E FE52                A   103    not_lis		cp 52h
0100A0 20 0A               A   104    			jr nz,not_sil
0100A2 FDCB00F6            A   105    			set il_prefix,(iy)
0100A6 FDCB00AE            A   106    			res dot_l_prefix,(iy)
0100AA 18 0C               A   107    			jr set_adl_pf
                           A   108    			
0100AC FE5B                A   109    not_sil		cp 5bh
0100AE 20 11               A   110    			jr nz,not_adl_prefix_byte
0100B0 FDCB00F6            A   111    			set il_prefix,(iy)
0100B4 FDCB00EE            A   112    			set dot_l_prefix,(iy)
                           A   113    			
0100B8 FDCB00FE            A   114    set_adl_pf	set show_adl_prefix,(iy)
0100BC DD23                A   115    			inc ix
0100BE DD7E00              A   116    			ld a,(ix)	
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   8


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   117    			
                           A   118    ;----------------------------------------------
                           A   119    
0100C1                     A   120    not_adl_prefix_byte			
                           A   121    			
0100C1 FECB                A   122    			cp 0cbh								0100C3 20 08               A   123    			jr nz,not_cb
0100C5 FDCB00C6            A   124    do_cb		set cb_prefix,(iy)
0100C9 DD23                A   125    			inc ix
0100CB 18 3A               A   126    			jr not_traditional_prefix_byte
                           A   127    
0100CD FEED                A   128    not_cb		cp 0edh
0100CF 20 08               A   129    			jr nz,not_ed
0100D1 FDCB00CE            A   130    do_ed		set ed_prefix,(iy)
0100D5 DD23                A   131    			inc ix
0100D7 18 2E               A   132    			jr not_traditional_prefix_byte
                           A   133    
0100D9 FEDD                A   134    not_ed		cp 0ddh
0100DB 20 18               A   135    			jr nz,not_dd
0100DD CD 00 03 01         A   136    do_dd		call check_nxt_byte_prefix			0100E1 28 92               A   137    			jr z,dis_instr						0100E3 FDCB00D6            A   138    			set sub_ix_prefix,(iy)
0100E7 FECB                A   139    xdcb_query	cp 0cbh								0100E9 20 1C               A   140    			jr nz,not_traditional_prefix_byte	0100EB FDCB00E6            A   141    			set ddcb_fdcb_prefix,(iy)
0100EF DD23                A   142    			inc ix								0100F1 DD23                A   143    			inc ix								0100F3 18 12               A   144    			jr not_traditional_prefix_byte
                           A   145    
0100F5 FEFD                A   146    not_dd		cp 0fdh
0100F7 20 0E               A   147    			jr nz,not_traditional_prefix_byte
0100F9 CD 00 03 01         A   148    do_fd		call check_nxt_byte_prefix
0100FD CA 75 00 01         A   149    			jr z,dis_instr	
010101 FDCB00DE            A   150    			set sub_iy_prefix,(iy)
010105 18 E0               A   151    			jr xdcb_query
                           A   152    
010107                     A   153    not_traditional_prefix_byte
                           A   154    
                           A   155    ;----------------------------------------------
                           A   156    
010107 DD7E00              A   157    			ld a,(ix)	
01010A E6C0                A   158    			and 11000000b			; seperate 
01010C 07                  A   159    			rlca
01010D 07                  A   160    			rlca
01010E FD77 01             A   161    			ld (iy+var_x),a			;var x= val
                           A   162    			
010111 DD7E00              A   163    			ld a,(ix)
010114 E638                A   164    			and 00111000b
010116 CB3F                A   165    			srl a
010118 CB3F                A   166    			srl a
01011A CB3F                A   167    			srl a	
01011C FD77 02             A   168    			ld (iy+var_y),a			;var x = vl
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:   9


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   169    
01011F DD7E00              A   170    			ld a,(ix)
010122 E607                A   171    			and 00000111b
010124 FD77 03             A   172    			ld (iy+var_z),a			;var z = va
                           A   173    			
010127 DD7E00              A   174    			ld a,(ix)
01012A E630                A   175    			and 00110000b
01012C CB3F                A   176    			srl a
01012E CB3F                A   177    			srl a
010130 CB3F                A   178    			srl a
010132 CB3F                A   179    			srl a
010134 FD77 04             A   180    			ld (iy+var_p),a			; var p = v
                           A   181    			
010137 DD7E00              A   182    			ld a,(ix)
01013A E608                A   183    			and 00001000b
01013C CB3F                A   184    			srl a
01013E CB3F                A   185    			srl a
010140 CB3F                A   186    			srl a
010142 FD77 05             A   187    			ld (iy+var_q),a				;var q 
                           A   188    
010145 CD 0E 03 01         A   189    			call find_instruction_ascii		; g
                           A   190    	
                           A   191    ;----------------------------------------------
                           A   192    
010149 78                  A   193    index_table	ld a,b							; a
01014A B7                  A   194    			or a
01014B 28 07               A   195    			jr z,parse_instr				; m
01014D CB7E                A   196    d_filp		bit 7,(hl)						; w
01014F 23                  A   197    			inc hl							; o
010150 28 FB               A   198    			jr z,d_filp					
010152 10 F9               A   199    			djnz d_filp
                           A   200    										
                           A   201    			
010154 FD21 DC 05 01       A   202    parse_instr	ld iy,opcode_vars
010159 01000000            A   203    			ld bc,0
01015D 7E                  A   204    			ld a,(hl)						;ge
01015E FE80                A   205    			cp 80h
010160 C8                  A   206    			ret z
010161 E67F                A   207    			and 7fh
                           A   208    			
010163 FE26                A   209    			cp '&'							;sy
010165 20 28               A   210    			jr nz,not_adlsym
010167 FDCB007E            A   211    			bit show_adl_prefix,(iy)		;do
01016B CA E9 02 01         A   212    			jr z,next_opcode_ascii_char
01016F 0600                A   213    			ld b,0
010171 FDCB006E            A   214    			bit dot_l_prefix,(iy)
010175 28 02               A   215    			jr z,naplsb
010177 CBC0                A   216    			set 0,b
010179 FDCB0076            A   217    naplsb		bit il_prefix,(iy)
01017D 28 02               A   218    			jr z,napmsb
01017F CBC8                A   219    			set 1,b
010181 E5                  A   220    napmsb		push hl
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  10


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010182 21 84 0A 01         A   221    			ld hl,adl_prefix_list
010186 CD 49 01 01         A   222    			call index_table				; r
01018A E1                  A   223    			pop hl
01018B C3 E9 02 01         A   224    			jp next_opcode_ascii_char
                           A   225    
01018F FE5E                A   226    not_adlsym	cp '^'							;sy
010191 20 0D               A   227    			jr nz,d_not_imm8
010193 DD23                A   228    			inc ix							;th
010195 DD7E00              A   229    			ld a,(ix)
010198 CD 7F 05 01         A   230    			call show_hex_byte
01019C C3 E9 02 01         A   231    			jp next_opcode_ascii_char
                           A   232    					
0101A0 FE21                A   233    d_not_imm8	cp '!'							;sy
0101A2 20 26               A   234    			jr nz,d_not_imm16					0101A4 11020000            A   235    			ld de,2
0101A8 FDCB0076            A   236    			bit il_prefix,(iy)				;ad
0101AC 28 08               A   237    			jr z,imm16
0101AE 13                  A   238    			inc de
0101AF DD7E03              A   239    			ld a,(ix+3)
0101B2 CD 7F 05 01         A   240    			call show_hex_byte
0101B6 DD7E02              A   241    imm16		ld a,(ix+2)						;sh
0101B9 CD 7F 05 01         A   242    			call show_hex_byte			
0101BD DD7E01              A   243    			ld a,(ix+1)						;th
0101C0 CD 7F 05 01         A   244    			call show_hex_byte
0101C4 DD19                A   245    			add ix,de						;ad
0101C6 C3 E9 02 01         A   246    			jp next_opcode_ascii_char
                           A   247    
0101CA FE2F                A   248    d_not_imm16	cp '/'							;sy
0101CC 20 36               A   249    			jr nz,d_not_sb
0101CE FDCB0066            A   250    			bit ddcb_fdcb_prefix,(iy)
0101D2 28 05               A   251    			jr z,norm_dbyte
0101D4 DD7EFF              A   252    			ld a,(ix-1)						;if
0101D7 18 05               A   253    			jr xdcb_dbyte
0101D9 DD23                A   254    norm_dbyte	inc ix
0101DB DD7E00              A   255    			ld a,(ix)						;th
0101DE CB7F                A   256    xdcb_dbyte	bit 7,a
0101E0 20 10               A   257    			jr nz,d_sbin					;sh
0101E2 F5                  A   258    			push af
0101E3 3E2B                A   259    			ld a,'+'
0101E5 CD A3 05 01         A   260    			call show_ascii_char
0101E9 F1                  A   261    			pop af
0101EA CD 7F 05 01         A   262    			call show_hex_byte
0101EE C3 E9 02 01         A   263    			jp next_opcode_ascii_char
0101F2 F5                  A   264    d_sbin		push af
0101F3 3E2D                A   265    			ld a,'-'
0101F5 CD A3 05 01         A   266    			call show_ascii_char
0101F9 F1                  A   267    			pop af
0101FA ED44                A   268    			neg
0101FC CD 7F 05 01         A   269    			call show_hex_byte
010200 C3 E9 02 01         A   270    			jp next_opcode_ascii_char
                           A   271    			
010204 FE64                A   272    d_not_sb	cp 'd'							;sy
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  11


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010206 20 1E               A   273    			jr nz,d_not_pcdip
010208 DD23                A   274    			inc ix
01020A 01000000            A   275    			ld bc,0
01020E DD7E00              A   276    			ld a,(ix)
010211 CB7F                A   277    			bit 7,a
010213 28 01               A   278    			jr z,d_spcd_pos
010215 0B                  A   279    			dec bc
010216 4F                  A   280    d_spcd_pos	ld c,a
010217 03                  A   281    			inc bc
010218 DDE5                A   282    			push ix
01021A DD09                A   283    			add ix,bc
01021C CD BE 05 01         A   284    			call show_ix
010220 DDE1                A   285    			pop ix
010222 C3 E9 02 01         A   286    			jp next_opcode_ascii_char
                           A   287    
010226 FE3E                A   288    d_not_pcdip	cp '>'							;sy
010228 20 16               A   289    			jr nz,d_not_sdig
01022A 23                  A   290    			inc hl							;th
01022B 01000000            A   291    			ld bc,0
01022F 4E                  A   292    			ld c,(hl)
010230 FD21 DC 05 01       A   293    			ld iy,opcode_vars
010235 FD09                A   294    			add iy,bc
010237 FD7E00              A   295    			ld a,(iy)						;a 
01023A C630                A   296    			add a,30h						;co
01023C C3 E5 02 01         A   297    			jp d_output_char
                           A   298    
010240 FE5F                A   299    d_not_sdig	cp '_'
010242 20 12               A   300    			jr nz,d_nhlsubst				; s
010244 E5                  A   301    			push hl
010245 21 5C 0A 01         A   302    			ld hl,hl_subs
010249 CD F1 02 01         A   303    hl_subst	call prefix_to_offset
01024D CD 49 01 01         A   304    			call index_table				; r
010251 E1                  A   305    			pop hl
010252 C3 E9 02 01         A   306    			jp next_opcode_ascii_char
                           A   307    			
010256 FE7C                A   308    d_nhlsubst	cp '|'
010258 20 07               A   309    			jr nz,d_noinvhls
01025A E5                  A   310    			push hl
01025B 21 62 0A 01         A   311    			ld hl,inv_hl_subs
01025F 18 E8               A   312    			jr hl_subst
                           A   313    			
010261 FE68                A   314    d_noinvhls	cp 'h'							;sy
010263 20 07               A   315    			jr nz,d_nhsubst
010265 E5                  A   316    			push hl
010266 21 68 0A 01         A   317    			ld hl,h_subs
01026A 18 DD               A   318    			jr hl_subst
                           A   319    			
01026C FE6C                A   320    d_nhsubst	cp 'l'							;sy
01026E 20 07               A   321    			jr nz,d_nlsubst
010270 E5                  A   322    			push hl
010271 21 6F 0A 01         A   323    			ld hl,l_subs
010275 18 D2               A   324    			jr hl_subst
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  12


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   325    			
010277 FE24                A   326    d_nlsubst	cp '$'
010279 20 07               A   327    			jr nz,d_nihlsubst				; s
01027B E5                  A   328    			push hl
01027C 21 76 0A 01         A   329    			ld hl,ind_hl_subs
010280 18 C7               A   330    			jr hl_subst
                           A   331    
                           A   332    
010282                     A   333    d_nihlsubst	
                           A   334    
010282 FE7E                A   335    			cp '~'							; s
010284 20 1F               A   336    			jr nz,ntable_r
010286 11 DC 09 01         A   337    			ld de,table_r
01028A 23                  A   338    do_table 	inc hl
01028B 01000000            A   339    			ld bc,0							; t
01028F 4E                  A   340    			ld c,(hl)
010290 FD21 DC 05 01       A   341    			ld iy,opcode_vars
010295 FD09                A   342    			add iy,bc
010297 FD4600              A   343    			ld b,(iy)						;in
01029A E5                  A   344    			push hl
01029B EB                  A   345    			ex de,hl
01029C CD 49 01 01         A   346    			call index_table				; r
0102A0 E1                  A   347    			pop hl
0102A1 C3 E9 02 01         A   348    			jp next_opcode_ascii_char
                           A   349    			
0102A5 11 E7 09 01         A   350    ntable_r	ld de,table_rp					; s
0102A9 FE40                A   351    			cp '@'
0102AB 28 DD               A   352    			jr z,do_table 
                           A   353    			
0102AD 11 EE 09 01         A   354    			ld de,table_rp2					; s
0102B1 FE2A                A   355    			cp '*'
0102B3 28 D5               A   356    			jr z,do_table
                           A   357    			
0102B5 11 3C 0A 01         A   358    			ld de,table_rp3					; s
0102B9 FE3C                A   359    			cp '<'
0102BB 28 CD               A   360    			jr z,do_table
                           A   361    			
0102BD 11 44 0A 01         A   362    			ld de,table_rp4					; s
0102C1 FE7D                A   363    			cp '}'
0102C3 28 C5               A   364    			jr z,do_table
                           A   365    			
0102C5 11 F6 09 01         A   366    			ld de,table_cc					; s
0102C9 FE23                A   367    			cp '#'
0102CB 28 BD               A   368    			jr z,do_table 
                           A   369    			
0102CD 11 02 0A 01         A   370    			ld de,table_alu					; s
0102D1 FE3A                A   371    			cp ':'
0102D3 28 B5               A   372    			jr z,do_table 
                           A   373    			
0102D5 11 26 0A 01         A   374    			ld de,table_rot					; s
0102D9 FE25                A   375    			cp '%'
0102DB 28 AD               A   376    			jr z,do_table 
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  13


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   377    			
0102DD 11 4C 0A 01         A   378    			ld de,table_rst					; s
0102E1 FE3B                A   379    			cp ';'
0102E3 28 A5               A   380    			jr z,do_table 
                           A   381    
                           A   382    			
0102E5                     A   383    ntable_bli
                           A   384    
                           A   385    ;----------------------------------------------
                           A   386    
0102E5                     A   387    d_output_char
                           A   388    
0102E5 CD A3 05 01         A   389    			call show_ascii_char
                           A   390    
0102E9                     A   391    next_opcode_ascii_char
                           A   392    
0102E9 CB7E                A   393    			bit 7,(hl)						;if
0102EB C0                  A   394    			ret nz
0102EC 23                  A   395    			inc hl
0102ED C3 54 01 01         A   396    			jp parse_instr
                           A   397    			
                           A   398    			
                           A   399    ;----------------------------------------------
                           A   400    
                           A   401    
0102F1                     A   402    prefix_to_offset
                           A   403    
0102F1 0602                A   404    			ld b,2							;se
0102F3 FDCB005E            A   405    			bit sub_iy_prefix,(iy)
0102F7 C0                  A   406    			ret nz
0102F8 05                  A   407    			dec b
0102F9 FDCB0056            A   408    			bit sub_ix_prefix,(iy)
0102FD C0                  A   409    			ret nz
0102FE 05                  A   410    			dec b
0102FF C9                  A   411    			ret
                           A   412    			
                           A   413    			
010300                     A   414    check_nxt_byte_prefix			
                           A   415    
010300 DD23                A   416    			inc ix
010302 DD7E00              A   417    			ld a,(ix)
010305 FEDD                A   418    			cp 0ddh
010307 C8                  A   419    			ret z
010308 FEED                A   420    			cp 0edh
01030A C8                  A   421    			ret z
01030B FEFD                A   422    			cp 0fdh
01030D C9                  A   423    			ret
                           A   424    			
                           A   425    			
                           A   426    ;==============================================
                           A   427    ;- Find instruction ascii ---------------------
                           A   428    ;==============================================
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  14


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   429    
                           A   430    ; Returns HL = ptr to ascii name
                           A   431    ;          B = group index (number of instructi
                           A   432    
01030E                     A   433    find_instruction_ascii
                           A   434    
01030E 0600                A   435    			ld b,0						; defau
                           A   436    
010310 FDCB0066            A   437    			bit ddcb_fdcb_prefix,(iy)	; Was t
010314 28 12               A   438    			jr z,not_ddcb_fdcb_inst
010316 21 B9 09 01         A   439    			ld hl,ddcb_fdcb_z6		
01031A FD46 01             A   440    			ld b,(iy+var_x)				; x is 
01031D FD7E 03             A   441    			ld a,(iy+var_z)
010320 FE06                A   442    			cp 6
010322 C8                  A   443    			ret z
010323 21 87 09 01         A   444    			ld hl,ddcb_fdcb_zn6					010327 C9                  A   445    			ret
                           A   446    			
                           A   447    ;==============================================
                           A   448    
010328                     A   449    not_ddcb_fdcb_inst
                           A   450    
010328 FDCB0046            A   451    			bit cb_prefix,(iy)			;is thi
01032C 28 08               A   452    			jr z,not_cb_inst
01032E 21 6D 07 01         A   453    			ld hl,cb_group		
010332 FD46 01             A   454    			ld b,(iy+var_x)				; x is 
010335 C9                  A   455    			ret
                           A   456    
                           A   457    ;==============================================
                           A   458    
010336                     A   459    not_cb_inst
                           A   460    
010336 FDCB004E            A   461    			bit ed_prefix,(iy)			;is thi
01033A CA 60 04 01         A   462    			jr z,not_ed_inst
                           A   463    
01033E FD7E 01             A   464    			ld a,(iy+var_x)				;x = 0
010341 B7                  A   465    			or a
010342 20 5B               A   466    			jr nz,notedx0
                           A   467    		
                           A   468    			
010344 FD7E 03             A   469    			ld a,(iy+var_z)				
010347 B7                  A   470    			or a
010348 20 0D               A   471    			jr nz,notedx0z0
01034A 21 91 07 01         A   472    			ld hl,ed_x0_z0_yn6			;x0 / z
01034E FD7E 02             A   473    			ld a,(iy+var_y)
010351 FE06                A   474    			cp 6
010353 C0                  A   475    			ret nz
010354 0601                A   476    			ld b,1
010356 C9                  A   477    			ret
                           A   478    
010357 FE01                A   479    notedx0z0	cp 1
010359 20 0D               A   480    			jr nz,notedx0z1
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  15


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
01035B 21 A2 07 01         A   481    			ld hl,ed_x0_z1				;x0 / z
01035F FD7E 02             A   482    			ld a,(iy+var_y)
010362 FE06                A   483    			cp 6
010364 C0                  A   484    			ret nz
010365 0601                A   485    			ld b,1
010367 C9                  A   486    			ret
                           A   487    
010368 FE02                A   488    notedx0z1	cp 2
01036A 20 05               A   489    			jr nz,notedx0z2
01036C 21 B6 07 01         A   490    			ld hl,ed_x0_z2				;x0 / z
010370 C9                  A   491    			ret
                           A   492    
010371 FE03                A   493    notedx0z2	cp 3
010373 20 05               A   494    			jr nz,notedx0z3
010375 21 C1 07 01         A   495    			ld hl,ed_x0_z3				;x0 / z
010379 C9                  A   496    			ret
                           A   497    			
01037A FE04                A   498    notedx0z3	cp 4
01037C 20 05               A   499    			jr nz,notedx0z4
01037E 21 CC 07 01         A   500    			ld hl,ed_x0_z4				;x0 / z
010382 C9                  A   501    			ret
                           A   502    
010383 FE06                A   503    notedx0z4	cp 6
010385 20 05               A   504    			jr nz,notedx0z6				;x0 / z
010387 21 D5 07 01         A   505    			ld hl,ed_x0_z6
01038B C9                  A   506    			ret
                           A   507    
01038C FE07                A   508    notedx0z6	cp 7
01038E C2 D9 09 01         A   509    			jr nz,bad_opcode			;x0 / z
010392 21 DF 07 01         A   510    			ld hl,ed_x0_z7
010396 FD7E 02             A   511    			ld a,(iy+var_y)
010399 FE06                A   512    			cp 6
01039B C0                  A   513    			ret nz
01039C 0601                A   514    			ld b,1
01039E C9                  A   515    			ret
                           A   516    			
                           A   517    ;----------------------------------------------
                           A   518    			
01039F FE01                A   519    notedx0		cp 1	
0103A1 20 68               A   520    			jr nz,ed_xn1
                           A   521    
0103A3 FD7E 03             A   522    			ld a,(iy+var_z)					;x 
0103A6 B7                  A   523    			or a
0103A7 20 0D               A   524    			jr nz,ed_x1_zn0
0103A9 21 F2 07 01         A   525    			ld hl,ed_x1_z0_yn6				;z 
0103AD FD7E 02             A   526    			ld a,(iy+var_y)
0103B0 FE06                A   527    			cp 6
0103B2 C0                  A   528    			ret nz
0103B3 0601                A   529    			ld b,1
0103B5 C9                  A   530    			ret
                           A   531    			
0103B6 FE01                A   532    ed_x1_zn0	cp 1
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  16


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0103B8 20 0D               A   533    			jr nz,ed_x1_zn1
0103BA 21 02 08 01         A   534    			ld hl,ed_x1_z1_yn6				;z 
0103BE FD7E 02             A   535    			ld a,(iy+var_y)
0103C1 FE06                A   536    			cp 6
0103C3 C0                  A   537    			ret nz
0103C4 0601                A   538    			ld b,1
0103C6 C9                  A   539    			ret
                           A   540    		
0103C7 FE02                A   541    ed_x1_zn1	cp 2
0103C9 20 08               A   542    			jr nz,ed_x1_zn2					;z 
0103CB 21 16 08 01         A   543    			ld hl,ed_x1_z2	
0103CF FD46 05             A   544    			ld b,(iy+var_q)
0103D2 C9                  A   545    			ret
                           A   546    
0103D3 FE03                A   547    ed_x1_zn2	cp 3
0103D5 20 08               A   548    			jr nz,ed_x1_zn3					;z 
0103D7 21 2C 08 01         A   549    			ld hl,ed_x1_z3	
0103DB FD46 05             A   550    			ld b,(iy+var_q)
0103DE C9                  A   551    			ret
                           A   552    			
0103DF FE04                A   553    ed_x1_zn3	cp 4							;z 
0103E1 20 08               A   554    			jr nz,ed_x1_zn4
0103E3 21 40 08 01         A   555    			ld hl,ed_x1_z4
0103E7 FD46 02             A   556    			ld b,(iy+var_y)
0103EA C9                  A   557    			ret
                           A   558    			
0103EB FE05                A   559    ed_x1_zn4	cp 5
0103ED 20 08               A   560    			jr nz,ed_x1_zn5
0103EF 21 76 08 01         A   561    			ld hl,ed_x1_z5					;z 
0103F3 FD46 02             A   562    			ld b,(iy+var_y)
0103F6 C9                  A   563    			ret
                           A   564    			
0103F7 FE06                A   565    ed_x1_zn5	cp 6
0103F9 20 08               A   566    			jr nz,ed_x1_zn6					;z=
0103FB 21 9F 08 01         A   567    			ld hl,ed_x1_z6
0103FF FD46 02             A   568    			ld b,(iy+var_y)
010402 C9                  A   569    			ret
                           A   570    			
010403 21 C3 08 01         A   571    ed_x1_zn6	ld hl,ed_x1_z7					;z=
010407 FD46 02             A   572    			ld b,(iy+var_y)
01040A C9                  A   573    			ret
                           A   574    
                           A   575    ;----------------------------------------------
                           A   576    				
01040B FE02                A   577    ed_xn1		cp 2
01040D 20 2E               A   578    			jr nz,ed_xn2
                           A   579    			
01040F FD46 02             A   580    			ld b,(iy+var_y)
010412 FD7E 03             A   581    			ld a,(iy+var_z)
010415 B7                  A   582    			or a
010416 20 05               A   583    			jr nz,edx2zn0
010418 21 E7 08 01         A   584    			ld hl,ed_x2_z0					;x=
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  17


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
01041C C9                  A   585    			ret
                           A   586    
01041D FE01                A   587    edx2zn0		cp 1
01041F 20 05               A   588    			jr nz,edx2zn1
010421 21 F9 08 01         A   589    			ld hl,ed_x2_z1					;x=
010425 C9                  A   590    			ret
                           A   591    
010426 FE02                A   592    edx2zn1		cp 2
010428 20 05               A   593    			jr nz,edx2zn2
01042A 21 0B 09 01         A   594    			ld hl,ed_x2_z2					;x=
01042E C9                  A   595    			ret
                           A   596    
01042F FE03                A   597    edx2zn2		cp 3
010431 20 05               A   598    			jr nz,edx2zn3
010433 21 2B 09 01         A   599    			ld hl,ed_x2_z3					;x=
010437 C9                  A   600    			ret
                           A   601    
010438 21 4D 09 01         A   602    edx2zn3		ld hl,ed_x2_z4					;x=
01043C C9                  A   603    			ret
                           A   604    
                           A   605    ;----------------------------------------------
                           A   606    
01043D FE03                A   607    ed_xn2		cp 3
01043F 20 18               A   608    			jr nz,ed_xn3
                           A   609    			
010441 FD46 02             A   610    			ld b,(iy+var_y)
010444 FD7E 03             A   611    			ld a,(iy+var_z)
010447 FE02                A   612    			cp 2
010449 20 05               A   613    			jr nz,edx3zn2
01044B 21 73 09 01         A   614    			ld hl,ed_x3_z2					;x=
01044F C9                  A   615    			ret
010450 FE03                A   616    edx3zn2		cp 3
010452 20 05               A   617    			jr nz,edx3zn3
010454 21 7D 09 01         A   618    			ld hl,ed_x3_z3					;x=
010458 C9                  A   619    			ret
                           A   620    
010459                     A   621    edx3zn3
                           A   622    
010459                     A   623    ed_xn3
                           A   624    
                           A   625    ;----------------------------------------------
                           A   626    
010459                     A   627    invalid_op
010459 21 D9 09 01         A   628    			ld hl,bad_opcode				; x
01045D 0600                A   629    			ld b,0
01045F C9                  A   630    			ret
                           A   631    			
                           A   632    			
                           A   633    ;========= UNPREFIXED INSTRUCTION =============
                           A   634    
                           A   635    
010460 FD7E 01             A   636    not_ed_inst	ld a,(iy+var_x)				; is X 
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  18


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010463 B7                  A   637    			or a
010464 C2 FD 04 01         A   638    			jr nz,x_not_zero
                           A   639    
                           A   640    ;----------------------------------------------
                           A   641    
                           A   642    
010468 FD7E 03             A   643    			ld a,(iy+var_z)				;x = 0
01046B B7                  A   644    			or a
01046C 20 14               A   645    			jr nz,x0_z_not_zero
01046E 21 E4 05 01         A   646    			ld hl,x0_z0
010472 FD7E 02             A   647    			ld a,(iy+var_y)				;y is t
010475 47                  A   648    			ld b,a
010476 D604                A   649    			sub 4
010478 FD77 06             A   650    			ld (iy+var_calc),a			;var_ca
01047B 78                  A   651    			ld a,b
01047C FE04                A   652    			cp 4
01047E D8                  A   653    			ret c
01047F 0604                A   654    			ld b,4						;if y >
010481 C9                  A   655    			ret
                           A   656    			
010482                     A   657    x0_z_not_zero		
                           A   658    			
010482 FE01                A   659    			cp 1
010484 20 14               A   660    			jr nz,x0_z_not_one
010486 21 04 06 01         A   661    			ld hl,x0_z1_yn6
01048A FD46 05             A   662    			ld b,(iy+var_q)				;q is t
01048D FD7E 02             A   663    			ld a,(iy+var_y)
010490 FE06                A   664    			cp 6
010492 C0                  A   665    			ret nz
010493 21 17 06 01         A   666    			ld hl,x0_z1_y6
010497 0600                A   667    			ld b,0
010499 C9                  A   668    			ret 
                           A   669    			
01049A                     A   670    x0_z_not_one
                           A   671    
01049A FE02                A   672    			cp 2
01049C 20 08               A   673    			jr nz,x0_z_not_two
01049E 21 1E 06 01         A   674    			ld hl,x0_z2
0104A2 FD46 02             A   675    			ld b,(iy+var_y)				;y is t
0104A5 C9                  A   676    			ret
                           A   677    			
0104A6                     A   678    x0_z_not_two
                           A   679    
0104A6 FE03                A   680    			cp 3
0104A8 20 08               A   681    			jr nz,x0_z_not_three
0104AA 21 69 06 01         A   682    			ld hl,x0_z3
0104AE FD46 05             A   683    			ld b,(iy+var_q)				;q is t
0104B1 C9                  A   684    			ret
                           A   685    			
0104B2                     A   686    x0_z_not_three
                           A   687    
0104B2 FE04                A   688    			cp 4
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  19


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0104B4 20 05               A   689    			jr nz,x0_z_not_four
0104B6 21 79 06 01         A   690    			ld hl,x0_z4					;no ini
0104BA C9                  A   691    			ret			
                           A   692    			
0104BB                     A   693    x0_z_not_four
                           A   694    
0104BB FE05                A   695    			cp 5
0104BD 20 05               A   696    			jr nz,x0_z_not_five
0104BF 21 80 06 01         A   697    			ld hl,x0_z5					;no ini
0104C3 C9                  A   698    			ret				
                           A   699    			
0104C4                     A   700    x0_z_not_five
                           A   701    
0104C4 FE06                A   702    			cp 6
0104C6 20 1A               A   703    			jr nz,x0_z_not_six
0104C8 21 87 06 01         A   704    			ld hl,x0_z6					;normal
0104CC FD7E 02             A   705    			ld a,(iy+var_y)
0104CF FE07                A   706    			cp 7
0104D1 C0                  A   707    			ret nz
0104D2 FDCB0056            A   708    			bit sub_ix_prefix,(iy)
0104D6 20 05               A   709    			jr nz,altx0z6
0104D8 FDCB005E            A   710    			bit sub_iy_prefix,(iy)
0104DC C8                  A   711    			ret z	
0104DD 21 8F 06 01         A   712    altx0z6		ld hl,alt_x0_z6				;if dd/
0104E1 C9                  A   713    			ret
                           A   714    
                           A   715    
0104E2                     A   716    x0_z_not_six
                           A   717    			
0104E2 21 96 06 01         A   718    			ld hl,x0_z7
0104E6 FD46 02             A   719    			ld b,(iy+var_y)				;y is n
0104E9 FDCB0056            A   720    			bit sub_ix_prefix,(iy)
0104ED 20 05               A   721    			jr nz,altx0z7
0104EF FDCB005E            A   722    			bit sub_iy_prefix,(iy)
0104F3 C8                  A   723    			ret z
0104F4 78                  A   724    altx0z7		ld a,b
0104F5 E601                A   725    			and 1
0104F7 47                  A   726    			ld b,a						;if dd/
0104F8 21 B0 06 01         A   727    			ld hl,alt_x0_z7				;this i
0104FC C9                  A   728    			ret
                           A   729    
                           A   730    ;----------------------------------------------
                           A   731    
0104FD FE01                A   732    x_not_zero	cp 1						; is x 
0104FF 20 14               A   733    			jr nz,x_not_one
                           A   734    			
010501 21 BE 06 01         A   735    			ld hl,x1_table				; x=1
010505 0600                A   736    			ld b,0
010507 FD7E 02             A   737    			ld a,(iy+var_y)				; no in
01050A FE06                A   738    			cp 6
01050C C0                  A   739    			ret nz
01050D FD7E 03             A   740    			ld a,(iy+var_z)
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  20


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010510 FE06                A   741    			cp 6
010512 C0                  A   742    			ret nz
010513 04                  A   743    			inc b						; unles
010514 C9                  A   744    			ret
                           A   745    		
                           A   746    ;----------------------------------------------
                           A   747    			
010515 FE02                A   748    x_not_one	cp 2						; is x 
010517 20 05               A   749    			jr nz,x_not_two
010519 21 CB 06 01         A   750    			ld hl,x2_table				; no in
01051D C9                  A   751    			ret
                           A   752    			
                           A   753    ;----------------------------------------------
                           A   754    
01051E FD7E 03             A   755    x_not_two	ld a,(iy+var_z)				; x mus
010521 B7                  A   756    			or a
010522 20 05               A   757    			jr nz,x3_z_not_zero
010524 21 D0 06 01         A   758    			ld hl,x3_z0					; no in
010528 C9                  A   759    			ret
                           A   760    						
010529                     A   761    x3_z_not_zero
                           A   762    
010529 FE01                A   763    			cp 1
01052B 20 11               A   764    			jr nz,x3_z_not_one
01052D 21 D7 06 01         A   765    			ld hl,x3_z1_q0
010531 FD7E 05             A   766    			ld a,(iy+var_q)
010534 B7                  A   767    			or a
010535 C8                  A   768    			ret z						; no in
010536 21 DF 06 01         A   769    			ld hl,x3_z1_q1
01053A FD46 04             A   770    			ld b,(iy+var_p)				; index
01053D C9                  A   771    			ret
                           A   772    
01053E                     A   773    x3_z_not_one
                           A   774    
01053E FE02                A   775    			cp 2
010540 20 05               A   776    			jr nz,x3_z_not_two
010542 21 F4 06 01         A   777    			ld hl,x3_z2					;no ini
010546 C9                  A   778    			ret
                           A   779    
010547                     A   780    x3_z_not_two
                           A   781    
010547 FE03                A   782    			cp 3
010549 20 08               A   783    			jr nz,x3_z_not_three
01054B 21 FD 06 01         A   784    			ld hl,x3_z3
01054F FD46 02             A   785    			ld b,(iy+var_y)				;index 
010552 C9                  A   786    			ret
                           A   787    
010553                     A   788    x3_z_not_three
                           A   789    
010553 FE04                A   790    			cp 4
010555 20 05               A   791    			jr nz,x3_z_not_four
010557 21 30 07 01         A   792    			ld hl,x3_z4				;no initial
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  21


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
01055B C9                  A   793    			ret						
                           A   794    
                           A   795    
01055C                     A   796    x3_z_not_four
                           A   797    
01055C FE05                A   798    			cp 5
01055E 20 11               A   799    			jr nz,x3_z_not_five
010560 21 3B 07 01         A   800    			ld hl,x3_z5_q0
010564 FD7E 05             A   801    			ld a,(iy+var_q)
010567 B7                  A   802    			or a
010568 C8                  A   803    			ret z						;no ind
010569 21 44 07 01         A   804    			ld hl,x3_z5_q1
01056D FD46 04             A   805    			ld b,(iy+var_p)				;else i
010570 C9                  A   806    			ret
                           A   807    
010571                     A   808    x3_z_not_five
                           A   809    
010571 FE06                A   810    			cp 6
010573 20 05               A   811    			jr nz,x3_z_not_six
010575 21 62 07 01         A   812    			ld hl,x3_z6					;no ind
010579 C9                  A   813    			ret
                           A   814    
01057A                     A   815    x3_z_not_six
                           A   816    
01057A 21 66 07 01         A   817    			ld hl,x3_z7					;x=3, z
01057E C9                  A   818    			ret
                           A   819    
                           A   820    
                           A   821    ;==============================================
                           A   822    
                           A   823    
01057F                     A   824    show_hex_byte
                           A   825    
01057F FDE5                A   826    			push iy
010581 DDE5                A   827    			push ix
010583 D5                  A   828    			push de
010584 C5                  A   829    			push bc
010585 E5                  A   830    			push hl
010586 5F                  A   831    			ld e,a
010587 3E3B                A   832    			ld a,kr_hex_byte_to_ascii
010589 21 97 0A 01         A   833    			ld hl,output_byte_txt
01058D E5                  A   834    			push hl
01058E 5BCD200A 00         A   835    			call.lil prose_kernal
010593 3E25                A   836    			ld a,kr_print_string
010595 E1                  A   837    			pop hl
010596 5BCD200A 00         A   838    			call.lil prose_kernal
01059B E1                  A   839    			pop hl
01059C C1                  A   840    			pop bc
01059D D1                  A   841    			pop de
01059E DDE1                A   842    			pop ix
0105A0 FDE1                A   843    			pop iy
0105A2 C9                  A   844    			ret
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  22


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   845    
                           A   846    
0105A3                     A   847    show_ascii_char
                           A   848    
0105A3 FDE5                A   849    			push iy
0105A5 DDE5                A   850    			push ix
0105A7 D5                  A   851    			push de
0105A8 C5                  A   852    			push bc
0105A9 E5                  A   853    			push hl
0105AA 21 9A 0A 01         A   854    			ld hl,output_char_txt
0105AE 77                  A   855    			ld (hl),a
0105AF 3E25                A   856    			ld a,kr_print_string
0105B1 5BCD200A 00         A   857    			call.lil prose_kernal
0105B6 E1                  A   858    			pop hl
0105B7 C1                  A   859    			pop bc
0105B8 D1                  A   860    			pop de
0105B9 DDE1                A   861    			pop ix
0105BB FDE1                A   862    			pop iy
0105BD C9                  A   863    			ret
                           A   864    			
0105BE DD22 94 0A 01       A   865    show_ix		ld (d_work_address),ix
0105C3 3A 96 0A 01         A   866    			ld a,(d_work_address+2)
0105C7 CD 7F 05 01         A   867    			call show_hex_byte
0105CB 3A 95 0A 01         A   868    			ld a,(d_work_address+1)
0105CF CD 7F 05 01         A   869    			call show_hex_byte
0105D3 3A 94 0A 01         A   870    			ld a,(d_work_address)
0105D7 CD 7F 05 01         A   871    			call show_hex_byte
0105DB C9                  A   872    			ret
                           A   873    			
                           A   874    ;----------------------------------------------
                           A   875    
                           A   876    ; SYMBOLS:
                           A   877    
                           A   878    ; # = CC_table
                           A   879    ; ~ = r table (registers)
                           A   880    ; @ = RP table (register pairs 1)
                           A   881    ; * = RP2 table (registers pairs 2)
                           A   882    ; : = ALU table
                           A   883    ; % = ROT table
                           A   884    ; _ = HL,IX/IY substitute selected by prefix
                           A   885    ;  = HL, IY/IX substitute based on prefix (IX/
                           A   886    ; $ = (HL),(IX+d),(IY+d) substitute selected by
                           A   887    ; h = H,IXH/IYH substitute selected by prefix
                           A   888    ; l = L,IXL,IYL substitute selected by prefix
                           A   889    ; & = ADL prefix 
                           A   890    
                           A   891    ; ^ = n (8 bit immediate)
                           A   892    ; ! = nn (16 or 24 bit immediate)
                           A   893    ; d = 8 bit signed jump displacement from PC
                           A   894    ; / = 8 bit signed byte used for IX+d, IY+d ins
                           A   895    ; > = single digit used by BIT,SET,RES instruct
                           A   896    ; < = RP3 table (register pairs 3)
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  23


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   897    ; } = RP4 table (register pairs 4)
                           A   898    ; ; = RST table
                           A   899    
0105DC                     A   900    opcode_vars
                           A   901    
0105DC 00                  A   902    prefix_bits_loc	db 0	
0105DD 00                  A   903    var_x_loc		db 0	
0105DE 00                  A   904    var_y_loc		db 0	
0105DF 00                  A   905    var_z_loc		db 0	
0105E0 00                  A   906    var_p_loc		db 0	
0105E1 00                  A   907    var_q_loc		db 0
0105E2 00                  A   908    var_calc_loc	db 0
0105E3 01                  A   909    var_adl_loc		db 1
                           A   910    
       00000000            A   911    prefix_bits		equ opcode_vars-prefix_bits_loc
       00000001            A   912    var_x			equ var_x_loc-opcode_vars
       00000002            A   913    var_y			equ var_y_loc-opcode_vars
       00000003            A   914    var_z			equ var_z_loc-opcode_vars
       00000004            A   915    var_p			equ var_p_loc-opcode_vars
       00000005            A   916    var_q			equ var_q_loc-opcode_vars
       00000006            A   917    var_calc		equ var_calc_loc-opcode_vars
       00000007            A   918    var_adl			equ var_adl_loc-opcode_vars
                           A   919    
                           A   920    ;---- Unprefixed opcodes ----------------------
                           A   921    
                           A   922    
0105E4 4E4FD0              A   923    x0_z0		db 'NO','P'+80h				; y0
0105E7 45582041 462C4146   A   924    			db 'EX AF,AF',27h+80h		; y1 
0105EF A7 
0105F0 444A4E5A 206480     A   925    			db 'DJNZ ','d',80h			; y2
0105F7 4A522064 80         A   926    			db 'JR ','d',80h			; y3
0105FC 4A522023 06 2C6480   A   927    			db 'JR #',var_calc,',d',80h	; y4-y7
                           A   928    			
010604 4C442620 40 04      A   929    x0_z1_yn6	db 'LD& @',var_p,',!',80h	; q=0
01060A 2C2180 
01060D 41444426 205F2C40   A   930    			db 'ADD& _,@',var_p,80h		; q=1
010615 04 80 
010617 4C44207C 2C2480     A   931    x0_z1_y6	db 'LD |,$',80h				; y=6
                           A   932    			
01061E 4C442620 28424329   A   933    x0_z2		db 'LD& (BC)','A'+80h		;y=0
010626 C1 
010627 4C442620 412C2842   A   934    			db 'LD& A,(BC',')'+80h		;y=1
01062F 43A9 
010631 4C442620 28444529   A   935    			db 'LD& (DE),','A'+80h		;y=2
010639 2CC1 
01063B 4C442620 412C2844   A   936    			db 'LD& A,(DE',')'+80h		;y=3
010643 45A9 
010645 4C442620 2821292C   A   937    			db 'LD& (!),','_'+80h		;y=4
01064D DF 
01064E 4C442620 5F2C2821   A   938    			db 'LD& _,(!',')'+80h		;y=5
010656 A9 
010657 4C442620 2821292C   A   939    			db 'LD& (!),','A'+80h		;y=6
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  24


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
01065F C1 
010660 4C442620 412C2821   A   940    			db 'LD& A,(!',')'+80h		;y=7
010668 A9 
                           A   941    
010669 494E4326 2040 04    A   942    x0_z3		db 'INC& @',var_p,80h		;q=0
010670 80 
010671 44454326 2040 04    A   943    			db 'DEC& @',var_p,80h		;q=1
010678 80 
                           A   944    			
010679 494E4320 7E 02 80   A   945    x0_z4		db 'INC ~',var_y,80h		
                           A   946    
010680 44454320 7E 02 80   A   947    x0_z5		db 'DEC ~',var_y,80h		
                           A   948    			
010687 4C44207E 02 2C5E80   A   949    x0_z6		db 'LD ~',var_y,',^',80h	
01068F 4C442024 2C7C80     A   950    alt_x0_z6	db 'LD $,|',80h				; when 
                           A   951    		
010696 524C43C1            A   952    x0_z7		db 'RLC','A'+80h		;y=0
01069A 525243C1            A   953    			db 'RRC','A'+80h		;y=1
01069E 524CC1              A   954    			db 'RL','A'+80h			;y=2
0106A1 5252C1              A   955    			db 'RR','A'+80h			;y=3
0106A4 4441C1              A   956    			db 'DA','A'+80h			;y=4
0106A7 4350CC              A   957    			db 'CP','L'+80h			;y=5
0106AA 5343C6              A   958    			db 'SC','F'+80h			;y=6 (and n
0106AD 4343C6              A   959    			db 'CC','F'+80h			;y=7 (and n
                           A   960    			
0106B0 4C44205F 2C2480     A   961    alt_x0_z7	db 'LD _,$',80h			;y=6 (DD/FD
0106B7 4C442024 2C5F80     A   962    			db 'LD $,_',80h			;y=7 ("" ""
                           A   963    
                           A   964    
0106BE 4C44207E 02 2C7E    A   965    x1_table	db 'LD ~',var_y,',~',var_z,80h		0106C5 03 80 
0106C7 48414CD4            A   966    x1_y6_z6	db 'HAL','T'+80h					                           A   967    
                           A   968    
                           A   969    
0106CB 3A 02 7E 03 80      A   970    x2_table	db ':',var_y,'~',var_z,80h			                           A   971    			
                           A   972    		
                           A   973    		
0106D0 52455420 23 02 80   A   974    x3_z0		db 'RET #',var_y,80h
                           A   975    
0106D7 504F5026 202A 04    A   976    x3_z1_q0	db 'POP& *',var_p,80h			
0106DE 80 
0106DF 5245D4              A   977    x3_z1_q1	db 'RE','T'+80h			;p=0
0106E2 4558D8              A   978    			db 'EX','X'+80h			;p=1
0106E5 4A502620 5F80       A   979    			db 'JP& _',80h			;p=2
0106EB 4C442620 53502C5F   A   980    			db 'LD& SP,_',80h		;p=3
0106F3 80 
                           A   981    
0106F4 4A502620 23 02      A   982    x3_z2		db 'JP& #',var_y,',!',80h		
0106FA 2C2180 
                           A   983    
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  25


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0106FD 4A502620 2180       A   984    x3_z3		db 'JP& !',80h			;y = 0
010703 43422070 667880     A   985    			db 'CB pfx',80h			;y = 1
01070A 4F555420 285E292C   A   986    			db 'OUT (^),','A'+80h	;y = 2
010712 C1 
010713 494E2041 2C285EA9   A   987    			db 'IN A,(^',')'+80h	;y = 3
01071B 45582028 5350292C   A   988    			db 'EX (SP),','_'+80h	;y = 4
010723 DF 
010724 45582044 452C48CC   A   989    			db 'EX DE,H','L'+80h	;y = 5
01072C 44C9                A   990    			db 'D','I'+80h			;y = 6
01072E 45C9                A   991    			db 'E','I'+80h			;y = 7
                           A   992    
010730 43414C4C 262023 02   A   993    x3_z4		db 'CALL& #',var_y,',!',80h
010738 2C2180 
                           A   994    
01073B 50555348 26202A 04   A   995    x3_z5_q0	db 'PUSH& *',var_p,80h			
010743 80 
010744 43414C4C 26202180   A   996    x3_z5_q1	db 'CALL& !',80h			;p=0
01074C 44442070 667880     A   997    			db 'DD pfx',80h			;p=1
010753 45442070 667880     A   998    			db 'ED pfx',80h			;p=2
01075A 20464420 70667880   A   999    			db' FD pfx',80h			;p=3
                           A  1000    
010762 3A 02 5E80          A  1001    x3_z6		db ':',var_y,'^',80h	;ALU_table(
                           A  1002    
010766 52535420 3B 02 80   A  1003    x3_z7		db 'RST ;',var_y,80h		; rst_t
                           A  1004    
                           A  1005    
                           A  1006    ;--- CB - Prefixed op-codes--------------------
                           A  1007    
                           A  1008    
01076D 25 02 2C7E 03 80    A  1009    cb_group		db '%',var_y,',~',var_z,80h		010773 42495420 3E 02      A  1010    				db 'BIT >',var_y,',~',var_z,80h
010779 2C7E 03 80 
01077D 52455320 3E 02      A  1011    				db 'RES >',var_y,',~',var_z,80h
010783 2C7E 03 80 
010787 53455420 3E 02      A  1012    				db 'SET >',var_y,',~',var_z,80h
01078D 2C7E 03 80 
                           A  1013    
                           A  1014    
                           A  1015    ;---- ED - Prefixed op-codes-------------------
                           A  1016    
010791 494E3020 7E 02      A  1017    ed_x0_z0_yn6	db 'IN0 ~',var_y,',(^',')'+80h
010797 2C285EA9 
01079B 494E3020 285EA9     A  1018    ed_x0_z0_y6		db 'IN0 (^',')'+80h	
                           A  1019    
0107A2 4F555430 207E 02    A  1020    ed_x0_z1		db 'OUT0 ~',var_y,',(^',')'+80h
0107A9 2C285EA9 
0107AD 4C442049 592C285F   A  1021    				db 'LD IY,(_',')'+80h			0107B5 A9 
                           A  1022    
0107B6 4C454120 3C 04      A  1023    ed_x0_z2		db 'LEA <',var_p,',IX/',80h		0107BC 2C49582F 80 
0107C1 4C454120 7D 04      A  1024    ed_x0_z3		db 'LEA }',var_p,',IY/',80h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  26


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0107C7 2C49592F 80 
0107CC 54535420 412C7E 02   A  1025    ed_x0_z4		db 'TST A,~',var_y,80h
0107D4 80 
                           A  1026    
0107D5 4C442028 5F292C7D   A  1027    ed_x0_z6		db  'LD (_),}',var_p,80h
0107DD 04 80 
                           A  1028    
0107DF 4C442028 5F292C3C   A  1029    ed_x0_z7		db	'LD (_),<',var_p,80h		0107E7 04 80 
0107E9 4C442049 582C285F   A  1030    				db  'LD IX,(_',')'+80h			0107F1 A9 
                           A  1031    
                           A  1032    
0107F2 494E207E 02         A  1033    ed_x1_z0_yn6	db 'IN ~',var_y,',(BC',')'+80h
0107F7 2C284243 A9 
0107FC 494E2028 43A9       A  1034    ed_x1_z0_y6		db 'IN (C',')'+80h
                           A  1035    
010802 4F555420 2843292C   A  1036    ed_x1_z1_yn6	db 'OUT (C),~',var_y,80h
01080A 7E 02 80 
01080D 4F555420 2843292C   A  1037    ed_x1_z1_y6		db 'OUT (C),','0'+80h
010815 B0 
                           A  1038    
010816 53424326 20484C2C   A  1039    ed_x1_z2		db 'SBC& HL,@',var_p,80h		01081E 40 04 80 
010821 41444326 20484C2C   A  1040    				db 'ADC& HL,@',var_p,80h		010829 40 04 80 
                           A  1041    
01082C 4C442620 2821292C   A  1042    ed_x1_z3		db 'LD& (!),@',var_p,80h		010834 40 04 80 
010837 4C442620 40 04      A  1043    				db 'LD& @',var_p,'(!',')'+80h	01083D 2821A9 
                           A  1044    
010840 4E45C7              A  1045    ed_x1_z4		db 'NE','G'+80h				;y=
010843 4D4C5420 42C3       A  1046    				db 'MLT B','C'+80h			;y=
010849 4C454120 49582C49   A  1047    				db 'LEA IX,IY/',80h			;y=
010851 592F80 
010854 4D4C5420 44C5       A  1048    				db 'MLT D','E'+80h			;y=
01085A 54535420 412C5E80   A  1049    				db 'TST A,^',80h			;y=
010862 4D4C5420 48CC       A  1050    				db 'MLT H','L'+80h			;y=
010868 54535449 4F205E80   A  1051    				db 'TSTIO ^',80h			;y=
010870 4D4C5420 53D0       A  1052    				db 'MLT S','P'+80h 			;y=
                           A  1053    
010876 524554CE            A  1054    ed_x1_z5		db 'RET','N'+80h			;y=
01087A 524554C9            A  1055    				db 'RET','I'+80h			;y=
01087E 4C454120 49592C49   A  1056    				db 'LEA IY,IX/',80h			;y=
010886 582F80 
010889 BF                  A  1057    				db '?'+80h					;y=
01088A 50454120 49582F80   A  1058    				db 'PEA IX/',80h			;y=
010892 4C44204D 422CC1     A  1059    				db 'LD MB,','A'+80h			;y=
010899 BF                  A  1060    				db '?'+80h					;y=
01089A 53544D49 D8         A  1061    				db 'STMI','X'+80h			;y=
                           A  1062    				
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  27


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A  1063    	
01089F 494D20B0            A  1064    ed_x1_z6		db 'IM ','0'+80h			;y=
0108A3 BF                  A  1065    				db '?'+80h					;y=
0108A4 494D20B1            A  1066    				db 'IM ','1'+80h			;y=
0108A8 494D20B2            A  1067    				db 'IM ','2'+80h			;y=
0108AC 50454120 49592F80   A  1068    				db 'PEA IY/',80h			;y=
0108B4 4C442041 2C4DC2     A  1069    				db 'LD A,','M','B'+80h		;y=
0108BB 534CD0              A  1070    				db 'SL','P'+80h				;y=
0108BE 52534D49 D8         A  1071    				db 'RSMI','X'+80h			;y=
                           A  1072    
0108C3 4C442049 2CC1       A  1073    ed_x1_z7		db 'LD I,','A'+80h			;y=
0108C9 4C442052 2CC1       A  1074    				db 'LD R,','A'+80h			;y=
0108CF 4C442041 2CC9       A  1075    				db 'LD A,','I'+80h			;y=
0108D5 4C442041 2CD2       A  1076    				db 'LD A,','R'+80h			;y=
0108DB 5252C4              A  1077    				db 'RR','D'+80h				;y=
0108DE 524CC4              A  1078    				db 'RL','D'+80h				;y=
0108E1 4E4FD0              A  1079    				db 'NO','P'+80h				;y=
0108E4 4E4FD0              A  1080    				db 'NO','P'+80h				;y=
                           A  1081    
                           A  1082    
0108E7 BFBFBFBF            A  1083    ed_x2_z0		db '?'+80h,'?'+80h,'?'+80h,'?'+
0108EB 4C44C9              A  1084    				db 'LD','I'+80h					0108EE 4C44C4              A  1085    				db 'LD','D'+80h					0108F1 4C4449D2            A  1086    				db 'LDI','R'+80h				0108F5 4C4444D2            A  1087    				db 'LDD','R'+80h				                           A  1088    
0108F9 BFBFBFBF            A  1089    ed_x2_z1		db '?'+80h,'?'+80h,'?'+80h,'?'+
0108FD 4350C9              A  1090    				db 'CP','I'+80h					010900 4350C4              A  1091    				db 'CP','D'+80h					010903 435049D2            A  1092    				db 'CPI','R'+80h				010907 435044D2            A  1093    				db 'CPD','R'+80h				                           A  1094    
01090B 494E49CD            A  1095    ed_x2_z2		db 'INI','M'+80h		; y0	01090F 494E44CD            A  1096    				db 'IND','M'+80h		; y1
010913 494E494D D2         A  1097    				db 'INIM','R'+80h		; y2
010918 494E444D D2         A  1098    				db 'INDM','R'+80h		; y3
01091D 494EC9              A  1099    				db 'IN','I'+80h			; y4
010920 494EC4              A  1100    				db 'IN','D'+80h			; y5
010923 494E49D2            A  1101    				db 'INI','R'+80h		; y6
010927 494E44D2            A  1102    				db 'IND','R'+80h		; y7
                           A  1103    
                           A  1104    
01092B 4F5449CD            A  1105    ed_x2_z3		db 'OTI','M'+80h		; y0
01092F 4F5444CD            A  1106    				db 'OTD','M'+80h		; y1
010933 4F54494D D2         A  1107    				db 'OTIM','R'+80h		; y2
010938 4F54444D D2         A  1108    				db 'OTDM','R'+80h		; y3
01093D 4F5554C9            A  1109    				db 'OUT','I'+80h		; y4
010941 4F5554C4            A  1110    				db 'OUT','D'+80h		; y5
010945 4F5449D2            A  1111    				db 'OTI','R'+80h		; y6
010949 4F5444D2            A  1112    				db 'OTD','R'+80h		; y7
                           A  1113    
01094D 494E49B2            A  1114    ed_x2_z4		db 'INI','2'+80h		; y0
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  28


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010951 494E44B2            A  1115    				db 'IND','2'+80h		; y1
010955 494E4932 D2         A  1116    				db 'INI2','R'+80h		; y2
01095A 494E4432 D2         A  1117    				db 'IND2','R'+80h		; y3
01095F 4F555449 B2         A  1118    				db 'OUTI','2'+80h		; y4
010964 4F555444 B2         A  1119    				db 'OUTD','2'+80h		; y5
010969 4F544932 D2         A  1120    				db 'OTI2','R'+80h		; y6
01096E 4F544432 D2         A  1121    				db 'OTD2','R'+80h		; y7
                           A  1122    
                           A  1123    
010973 494E4952 D8         A  1124    ed_x3_z2		db 'INIR','X'+80h 		; y0
010978 494E4452 D8         A  1125    				db 'INDR','X'+80h		; y1
                           A  1126    
01097D 4F544952 D8         A  1127    ed_x3_z3		db 'OTIR','X'+80h		; y0
010982 4F544452 D8         A  1128    				db 'OTDR','X'+80h		; y1
                           A  1129    			
                           A  1130    
                           A  1131    ;--- DDCB or FDCB - Prefixed op-codes----------
                           A  1132    
                           A  1133    
010987 4C44207E 03 2C25    A  1134    ddcb_fdcb_zn6	db 'LD ~',var_z, ',%',var_y,' $
01098E 02 202480 
010992 42495420 3E 02      A  1135    				db 'BIT >',var_y,',$',80h		010998 2C2480 
01099B 4C44207E 03         A  1136    				db 'LD ~',var_z,',RES >',var_y,
0109A0 2C524553 203E 02 
0109A7 2C2480 
0109AA 4C44207E 03         A  1137    				db 'LD ~',var_z,',SET >',var_y,
0109AF 2C534554 203E 02 
0109B6 2C2480 
                           A  1138    
0109B9 25 02 202480        A  1139    ddcb_fdcb_z6	db '%',var_y,' $',80h			0109BE 42495420 3E 02      A  1140    				db 'BIT >',var_y,',$',80h		0109C4 2C2480 
0109C7 52455320 3E 02      A  1141    				db 'RES >',var_y,',$',80h		0109CD 2C2480 
0109D0 53455420 3E 02      A  1142    				db 'SET >',var_y,',$',80h		0109D6 2C2480 
                           A  1143    
                           A  1144    
                           A  1145    ;----------------------------------------------
                           A  1146    
0109D9 3F3FBF              A  1147    bad_opcode	db '??','?'+80h
                           A  1148    
                           A  1149    ;----------------------------------------------
                           A  1150    
                           A  1151    
0109DC C2C3C4C5 68806C80   A  1152    table_r		db 'B'+80h, 'C'+80h, 'D'+80h, 'E'+8
0109E4 2480C1 
                           A  1153    
0109E7 42C344C5 DF53D0     A  1154    table_rp	db 'B','C'+80h, 'D','E'+80h, '_'+80
                           A  1155    
0109EE 42C344C5 5F8041C6   A  1156    table_rp2	db 'B','C'+80h, 'D','E'+80h, '_',+8
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  29


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A  1157    	
0109F6 4EDADA4E C3C350CF   A  1158    table_cc	db 'N','Z'+80h, 'Z'+80h, 'N','C'+80
0109FE 50C5D0CD 
                           A  1159    	
010A02 41444420 41AC4144   A  1160    table_alu	db 'ADD A',','+80h, 'ADC A',','+80h
010A0A 432041AC 535542A0 
010A12 53424320 41AC 
010A18 414E44A0 584F52A0   A  1161    			db 'AND',' '+80h, 'XOR',' '+80h, 'O
010A20 4F52A043 50A0 
                           A  1162    			
010A26 524CC352 52C352CC   A  1163    table_rot	db 'RL','C'+80h, 'RR','C'+80h, 'R',
010A2E 52D2 
010A30 534CC153 52C1534C   A  1164    			db 'SL','A'+80h, 'SR','A'+80h, 'SL'
010A38 CC5352CC 
                           A  1165    	
010A3C 42C344C5 48CC49D8   A  1166    table_rp3	db 'B','C'+80h, 'D','E'+80h, 'H','L
                           A  1167    
010A44 42C344C5 48CC49D9   A  1168    table_rp4	db 'B','C'+80h, 'D','E'+80h, 'H','L
                           A  1169    			
010A4C 30B0                A  1170    table_rst	db '0','0'+80h
010A4E 30B8                A  1171    			db '0','8'+80h
010A50 31B0                A  1172    			db '1','0'+80h
010A52 31B8                A  1173    			db '1','8'+80h
010A54 32B0                A  1174    			db '2','0'+80h
010A56 32B8                A  1175    			db '2','8'+80h	
010A58 33B0                A  1176    			db '3','0'+80h
010A5A 33B8                A  1177    			db '3','8'+80h			
                           A  1178    
                           A  1179    
                           A  1180    
                           A  1181    
                           A  1182    ;----------------------------------------------
                           A  1183    
                           A  1184    ; "_" = HL, IX, IY depending on prefix 
                           A  1185    ; "|" = as above with IX/IY switched
                           A  1186    
                           A  1187    ; "h" = H, IXH, IYL depending on prefix
                           A  1188    ; "l" = L, IXL, IYL depending on prefix
                           A  1189    ; "$" = (HL), (IX+d), (IY+d) depending on prefi
                           A  1190    
010A5C 48CC49D8 49D9       A  1191    hl_subs		db 'H','L'+80h, 'I','X'+80h, 'I','Y
010A62 48CC49D9 49D8       A  1192    inv_hl_subs	db 'H','L'+80h, 'I','Y'+80h, 'I','X
010A68 C84958C8 4959C8     A  1193    h_subs		db 'H'+80h, 'IX','H'+80h, 'IY','H'+
010A6F CC4958CC 4959CC     A  1194    l_subs		db 'L'+80h, 'IX','L'+80h, 'IY','L'+
010A76 28484CA9 2849582F   A  1195    ind_hl_subs	db '(HL',')'+80h, '(IX/',')'+80h, '
010A7E A9284959 2FA9 
                           A  1196    
                           A  1197    ;----------------------------------------------
                           A  1198    
010A84                     A  1199    adl_prefix_list
                           A  1200    
010A84 2E5349D3 2E4C49D3   A  1201    			db '.SI','S'+80h, '.LI','S'+80h, '.
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  30


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010A8C 2E5349CC 2E4C49CC 
                           A  1202    
                           A  1203    ;----------------------------------------------
                           A  1204    
                           A  1205    
010A94 000000              A  1206    d_work_address	dw24 0
                           A  1207    
010A97 2D2D00              A  1208    output_byte_txt	db "--",0
010A9A 2D00                A  1209    output_char_txt	db "-",0
                           A  1210    
010A9C 9F0A01              A  1211    dis_addr		dw24 test_code
                           A  1212    
                           A  1213    ;----------------------------------------------
                           A  1214    
010A9F 78                  A  1215    test_code		ld a,b
010AA0 79                  A  1216    				ld a,c
010AA1 7A                  A  1217    				ld a,d
010AA2 7B                  A  1218    				ld a,e
010AA3 7C                  A  1219    				ld a,h
010AA4 7D                  A  1220    				ld a,l
010AA5 7E                  A  1221    				ld a,(hl)
010AA6 47                  A  1222    				ld b,a
010AA7 41                  A  1223    				ld b,c
010AA8 42                  A  1224    				ld b,d
010AA9 43                  A  1225    				ld b,e
010AAA 44                  A  1226    				ld b,h
010AAB 45                  A  1227    				ld b,l
010AAC 46                  A  1228    				ld b,(hl)
                           A  1229    				
010AAD 3E12                A  1230    				ld a,12h
010AAF 3A563412            A  1231    				ld a,(123456h)
                           A  1232    				
010AB3 0612                A  1233    				ld b,12h
010AB5 01563412            A  1234    				ld bc,123456h
                           A  1235    				
010AB9 11563412            A  1236    				ld de,123456h
                           A  1237    				
010ABD DD215634 12         A  1238    				ld ix,123456h
                           A  1239    				
010AC2 FD215634 12         A  1240    				ld iy,123456h
                           A  1241    				
                           A  1242    
010AC7 ED3202              A  1243    				lea ix,ix+2
010ACA ED5402              A  1244    				lea ix,iy+2
010ACD ED5502              A  1245    				lea iy,ix+2
010AD0 ED33FE              A  1246    				lea iy,iy-2
010AD3 ED0202              A  1247    				lea bc,ix+2
010AD6 ED0302              A  1248    				lea bc,iy+2
010AD9 ED2202              A  1249    				lea hl,ix+2
010ADC ED2302              A  1250    				lea hl,iy+2
010ADF ED1202              A  1251    				lea de,ix+2
010AE2 ED1302              A  1252    				lea de,iy+2
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  31


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A  1253    			
                           A  1254    
010AE5 37                  A  1255    				scf
                           A  1256    
010AE6 DD3F03              A  1257    				ld (ix+3),ix
010AE9 FD3F04              A  1258    				ld (iy+4),iy
                           A  1259    				
010AEC FD3E05              A  1260    				ld (iy+5),ix
010AEF DD3E06              A  1261    				ld (ix+6),iy
                           A  1262    				
010AF2 ED37                A  1263    				ld ix,(hl)
010AF4 ED31                A  1264    				ld iy,(hl)
                           A  1265    				
010AF6 DD3102              A  1266    				ld iy,(ix+2)
010AF9 FD3102              A  1267    				ld ix,(iy+2)
010AFC FD3701              A  1268    				ld iy,(iy+1)
010AFF DD3701              A  1269    				ld ix,(ix+1)
                           A  1270    				
                           A  1271    				
                           A  1272    				
010B02 00                  A  1273    				nop
                           A  1274    				
010B03 ED1F                A  1275    				ld (hl),de
010B05 ED3F                A  1276    				ld (hl),ix
010B07 ED0F                A  1277    				ld (hl),bc
                           A  1278    				
010B09 DD68                A  1279    				ld ixl,b
010B0B DD61                A  1280    				ld ixh,c
010B0D FD6A                A  1281    				ld iyl,d
010B0F FD63                A  1282    				ld iyh,e
                           A  1283    						
010B11 ED735634 12         A  1284    				ld (123456h),sp
                           A  1285    				
010B16 AF                  A  1286    				xor a
010B17 DDAD                A  1287    				xor a,ixl
                           A  1288    				
010B19 38 FE               A  1289    here2			jr c,here2
010B1B ED57                A  1290    				ld a,i
010B1D ED5F                A  1291    				ld a,r
010B1F 3A563412            A  1292    				ld a,(123456h)
010B23 0A                  A  1293    				ld a,(bc)
                           A  1294    				
                           A  1295    				
010B24 C2332211            A  1296    				jp nz,112233h
010B28 5BC37766 55         A  1297    				jp.lil 556677h
010B2D E9                  A  1298    				jp (hl)
010B2E DDE9                A  1299    				jp (ix)
                           A  1300    				
                           A  1301    				
010B30 3F                  A  1302    				ccf
010B31 BE                  A  1303    				cp a,(hl)
010B32 FE55                A  1304    				cp a,55h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  32


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010B34 DDBE02              A  1305    				cp a,(ix+2)
010B37 27                  A  1306    				daa
010B38 23                  A  1307    				inc hl
010B39 DD23                A  1308    				inc ix
010B3B 03                  A  1309    				inc bc
010B3C C3302010            A  1310    				jp 102030h
                           A  1311    				
                           A  1312    				
010B40 10 FE               A  1313    here			djnz here
010B42 10 00               A  1314    				djnz ahead
010B44 FB                  A  1315    ahead			ei
010B45 3D                  A  1316    				dec a
010B46 35                  A  1317    				dec (hl)
010B47 DD3500              A  1318    				dec (ix)
010B4A 3B                  A  1319    				dec sp
010B4B 1B                  A  1320    				dec de
010B4C F3                  A  1321    				di
                           A  1322    				
010B4D FB                  A  1323    				ei
010B4E D9                  A  1324    				exx
010B4F 08                  A  1325    				ex af,af'
010B50 EB                  A  1326    				ex de,hl
010B51 E3                  A  1327    				ex (sp),hl
010B52 DDE3                A  1328    				ex (sp),ix
010B54 FDE3                A  1329    				ex (sp),iy
010B56 76                  A  1330    				halt
                           A  1331    				
                           A  1332    
010B57 5BCD5634 12         A  1333    				call.lil 123456h
010B5C 5BC45634 12         A  1334    				call.lil nz,123456h
                           A  1335    				
010B61 CD563412            A  1336    				call 123456h
010B65 C4563412            A  1337    				call nz,123456h
                           A  1338    
010B69 CB47                A  1339    				bit 0,a
010B6B CB4B                A  1340    				bit 1,e
010B6D CB7E                A  1341    				bit 7,(hl)
010B6F DDCB016E            A  1342    				bit 5,(ix+1)
010B73 FDCB0276            A  1343    				bit 6,(iy+2)
                           A  1344    				
                           A  1345    				
                           A  1346    
010B77 DD29                A  1347    				add ix,ix
010B79 FD29                A  1348    				add iy,iy
010B7B DD39                A  1349    				add ix,sp
010B7D FD39                A  1350    				add iy,sp
010B7F 00                  A  1351    				nop
010B80 00                  A  1352    				nop
                           A  1353    
010B81 DD84                A  1354    				add a,ixh
010B83 DD85                A  1355    				add a,ixl
010B85 FD84                A  1356    				add a,iyh
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  33


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010B87 FD85                A  1357    				add a,iyl
010B89 00                  A  1358    				nop
010B8A 00                  A  1359    				nop
                           A  1360    				
010B8B 87                  A  1361    				add a,a
010B8C 80                  A  1362    				add a,b
010B8D 81                  A  1363    				add a,c
010B8E 86                  A  1364    				add a,(hl)
010B8F 00                  A  1365    				nop
010B90 00                  A  1366    				nop
                           A  1367    				
010B91 09                  A  1368    				add hl,bc
010B92 19                  A  1369    				add hl,de
010B93 29                  A  1370    				add hl,hl
010B94 39                  A  1371    				add hl,sp
010B95 4009                A  1372    				add.sis hl,bc
010B97 00                  A  1373    				nop
010B98 00                  A  1374    				nop
                           A  1375    
010B99 5B215634 12         A  1376    				ld.lil hl,123456h
010B9E 40213412            A  1377    				ld.sis hl,1234h
010BA2 00                  A  1378    				nop
010BA3 00                  A  1379    				nop
                           A  1380    				
                           A  1381    
                           A  1382    
010BA4 EDA9                A  1383    				cpd
010BA6 EDB9                A  1384    				cpdr
010BA8 EDA1                A  1385    				cpi
010BAA EDB1                A  1386    				cpir
                           A  1387    				
010BAC EDAA                A  1388    				ind
010BAE ED8C                A  1389    				ind2
010BB0 ED9C                A  1390    				ind2r
010BB2 ED8A                A  1391    				indm
010BB4 EDBA                A  1392    				indr
010BB6 EDCA                A  1393    				indrx
010BB8 EDA2                A  1394    				ini
010BBA ED84                A  1395    				ini2
010BBC ED94                A  1396    				ini2r
010BBE ED82                A  1397    				inim
010BC0 ED92                A  1398    				inimr
010BC2 EDB2                A  1399    				inir
010BC4 EDC2                A  1400    				inirx
                           A  1401    				
010BC6 EDA8                A  1402    				ldd
010BC8 EDB8                A  1403    				lddr
010BCA EDA0                A  1404    				ldi
010BCC EDB0                A  1405    				ldir
                           A  1406    				
010BCE EDBC                A  1407    				otd2r
010BD0 ED8B                A  1408    				otdm
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  34


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010BD2 ED9B                A  1409    				otdmr
010BD4 EDBB                A  1410    				otdr
010BD6 EDCB                A  1411    				otdrx
010BD8 EDB4                A  1412    				oti2r
010BDA ED83                A  1413    				otim
010BDC ED93                A  1414    				otimr
010BDE EDB3                A  1415    				otir
010BE0 EDC3                A  1416    				otirx
                           A  1417    				
010BE2 00                  A  1418    				nop
010BE3 00                  A  1419    				nop
010BE4 00                  A  1420    				nop
                           A  1421    				
010BE5 ED4C                A  1422    				mlt bc
010BE7 ED44                A  1423    				neg
010BE9 B6                  A  1424    				or a,(hl)
010BEA F5                  A  1425    				push af
010BEB DDE5                A  1426    				push ix
010BED E1                  A  1427    				pop hl
                           A  1428    				
010BEE CB80                A  1429    				res 0,b
010BF0 C9                  A  1430    				ret
010BF1 ED4D                A  1431    				reti
010BF3 ED45                A  1432    				retn
010BF5 CB16                A  1433    				rl (hl)
010BF7 ED6F                A  1434    				rld
010BF9 07                  A  1435    				rlca
                           A  1436    				
010BFA ED4F                A  1437    				ld r,a
010BFC ED5F                A  1438    				ld a,r
                           A  1439    
010BFE ED52                A  1440    				sbc hl,de
010C00 ED42                A  1441    				sbc hl,bc
010C02 ED62                A  1442    				sbc hl,hl
010C04 09                  A  1443    				add hl,bc
010C05 ED5A                A  1444    				adc hl,de
010C07 DD09                A  1445    				add ix,bc
010C09 FD19                A  1446    				add iy,de
                           A  1447    				
010C0B DD64                A  1448    				ld ixh,ixh
010C0D DD65                A  1449    				ld ixh,ixl
010C0F DD6C                A  1450    				ld ixl,ixh
010C11 DD6D                A  1451    				ld ixl,ixl
010C13 FD64                A  1452    				ld iyh,iyh
010C15 FD65                A  1453    				ld iyh,iyl
010C17 FD6C                A  1454    				ld iyl,iyh
010C19 FD6D                A  1455    				ld iyl,iyl
                           A  1456    				
010C1B DD2E22              A  1457    				ld ixl,22h
010C1E DD2633              A  1458    				ld ixh,33h
010C21 FD2E44              A  1459    				ld iyl,44h
010C24 FD2655              A  1460    				ld iyh,55h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)08-Aug-11     16:05:28     page:  35


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A  1461    				
                           A  1462    				


Errors: 0
Warnings: 0
Lines Assembled: 1711
