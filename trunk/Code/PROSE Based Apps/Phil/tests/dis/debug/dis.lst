Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Z80 disassemle
                           A     2    ;----------------------------------------------
                           A     3    
       00000000            A     4    amoeba_version_req	equ	0				; 0 = d
       00000000            A     5    prose_version_req	equ 0				; 0 = d
       00000001            A     6    ADL_mode			equ 1				; 0 if 
       00010000            A     7    load_location		equ 10000h			; anywh
                           A     8    
                           B     0    			include	'PROSE_header.asm'
                           B     1    ;--- EZ80 Internal CPU Ports ------------------
                           B     2    
       0000009A            B     3    PB_DR			equ 09ah
       0000009B            B     4    PB_DDR			equ 09bh
       0000009C            B     5    PB_ALT1			equ 09ch
       0000009D            B     6    PB_ALT2			equ 09dh
                           B     7    
       0000009E            B     8    PC_DR			equ 09eh
       0000009F            B     9    PC_DDR			equ 09fh
       000000A0            B    10    PC_ALT1			equ 0a0h
       000000A1            B    11    PC_ALT2			equ 0a1h
                           B    12    
       000000A2            B    13    PD_DR			equ 0a2h
       000000A3            B    14    PD_DDR			equ 0a3h
       000000A4            B    15    PD_ALT1			equ 0a4h
       000000A5            B    16    PD_ALT2			equ 0a5h
                           B    17    
       000000C0            B    18    UART0_RBR		equ 0c0h
       000000C0            B    19    UART0_THR		equ 0c0h
       000000C0            B    20    UART0_BRG_L		equ 0c0h
       000000C1            B    21    UART0_BRG_H		equ 0c1h
       000000C1            B    22    UART0_IER		equ 0c1h
       000000C2            B    23    UART0_FCTL		equ 0c2h
       000000C3            B    24    UART0_LCTL		equ 0c3h
       000000C4            B    25    UART0_MCTL		equ 0c4h
       000000C5            B    26    UART0_LSR		equ 0c5h
       000000C6            B    27    UART0_MSR		equ 0c6h
                           B    28    
       000000A8            B    29    CS0_LBR			equ 0a8h			;eZ80 wait 
       000000A9            B    30    CS0_UBR			equ 0a9h
       000000AA            B    31    CS0_CTL			equ 0aah			
       000000AB            B    32    CS1_LBR			equ 0abh			;eZ80 wait 
       000000AC            B    33    CS1_UBR			equ 0ach
       000000AD            B    34    CS1_CTL			equ 0adh
       000000AE            B    35    CS2_LBR			equ 0aeh			;eZ80 wait 
       000000AF            B    36    CS2_UBR			equ 0afh
       000000B0            B    37    CS2_CTL			equ 0b0h
       000000B1            B    38    CS3_LBR			equ 0b1h			;eZ80 wait 
       000000B2            B    39    CS3_UBR			equ 0b2h
       000000B3            B    40    CS3_CTL			equ 0b3h
                           B    41    
       00000080            B    42    TMR0_CTL		equ 080h			;timer 0 eq
       00000081            B    43    TMR0_DR_L		equ 081h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   2


PC     Object              I  Line    Source ..\..\..\..\..\Includes\PROSE_header.asm
       00000081            B    44    TMR0_RR_L		equ 081h
       00000082            B    45    TMR0_DR_H		equ 082h
       00000082            B    46    TMR0_RR_H		equ 082h
       00000092            B    47    TMR_ISS			equ 092h
                           B    48    
       000000ED            B    49    RTC_CTRL		equ 0edh			;RTC equate
       000000EC            B    50    RTC_ACTRL		equ 0ech
       000000E0            B    51    RTC_SEC			equ 0e0h
       000000E1            B    52    RTC_MIN			equ 0e1h
       000000E2            B    53    RTC_HRS			equ 0e2h
       000000E3            B    54    RTC_DOW			equ 0e3h
       000000E4            B    55    RTC_DOM			equ 0e4h
       000000E5            B    56    RTC_MON			equ 0e5h
       000000E6            B    57    RTC_YR			equ 0e6h
       000000E7            B    58    RTC_CEN			equ 0e7h
                           B    59    
                           B    60    ;-- EZ80P Hardware equates --------------------
                           B    61    
       00000000            B    62    port_pic_data  			equ 000h
       00000001            B    63    port_pic_ctrl			equ 001h
       00000001            B    64    port_hw_flags			equ 001h
       00000002            B    65    port_sdc_ctrl			equ 002h	; this is a
       00000002            B    66    port_keyboard_data		equ 002h
       00000003            B    67    port_sdc_data		 	equ 003h	
       00000004            B    68    port_memory_paging		equ 004h
       00000005            B    69    port_irq_ctrl			equ 005h
       00000006            B    70    port_nmi_ack			equ 006h
       00000007            B    71    port_ps2_ctrl			equ 007h
       00000008            B    72    port_selector			equ 008h
       00000006            B    73    port_mouse_data			equ 006h
       00000009            B    74    port_clear_flags		equ 009h
                           B    75    
       00000000            B    76    sdc_power				equ 0		;(port_sd_c
       00000001            B    77    sdc_cs					equ 1		;(port_sd_c
       00000002            B    78    sdc_speed				equ 2 		;(port_sd_c
                           B    79    
       00000004            B    80    sdc_serializer_busy		equ 4 		;(port_hw_f
       00000005            B    81    vrt						equ 5		;(port_hw_f
                           B    82    
                           B    83    
                           B    84    ;-- Memory locations --------------------------
                           B    85    
       00000000            B    86    sysram_addr				equ 0000000h
       00800000            B    87    vram_a_addr				equ 0800000h
       00C00000            B    88    vram_b_addr				equ 0c00000h
                           B    89    
                           B    90    ;-- Hardware registers ------------------------
                           B    91    
       00FF0000            B    92    hw_palette				equ 0ff0000h
       00FF0800            B    93    hw_sprite_registers		equ 0ff0800h
       00FF1000            B    94    hw_video_parameters		equ 0ff1000h
       00FF1400            B    95    hw_audio_registers		equ 0ff1400h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   3


PC     Object              I  Line    Source ..\..\..\..\..\Includes\PROSE_header.asm
       00FF1800            B    96    hw_video_settings		equ 0ff1800h
                           B    97    
       00FF1000            B    98    tilemap_parameters		equ hw_video_parameters
       00FF1020            B    99    bitmap_parameters		equ hw_video_parameters
                           B   100    
       00FF1800            B   101    video_control			equ hw_video_settings+0
       00FF1801            B   102    sprite_control			equ hw_video_settings+0
       00FF1802            B   103    bgnd_palette_select		equ hw_video_settings+0
       00FF1803            B   104    sprite_palette_select	equ hw_video_settings+0
       00FF1804            B   105    right_border_position	equ hw_video_settings+0
                           B   106    
                           B   107    ;----------------------------------------------
                           B   108    
       00000A00            B   109    os_start 	equ 0a00h
                           B   110    
       00000A14            B   111    prose_return equ os_start+14h
       00000A20            B   112    prose_kernal equ os_start+20h
                           B   113    
                           B   114    ;----------------------------------------------
                           B   115    ; Kernal Jump Table values for mode PROSE
                           B   116    ;----------------------------------------------
                           B   117    		
       00000000            B   118    kr_mount_volumes				equ 00h	
       00000001            B   119    kr_get_device_info				equ 01h	
       00000002            B   120    kr_check_volume_format			equ 02h	
       00000003            B   121    kr_change_volume				equ 03h	
       00000004            B   122    kr_get_volume_info				equ 04h	
       00000005            B   123    kr_format_device				equ 05h	
       00000006            B   124    kr_make_dir						equ 06h
                           B   125    
       00000007            B   126    kr_change_dir					equ 07h	
       00000008            B   127    kr_parent_dir					equ 08h	
       00000009            B   128    kr_root_dir						equ 09h
       0000000A            B   129    kr_delete_dir					equ 0ah
       0000000B            B   130    kr_find_file					equ 0bh
       0000000C            B   131    kr_set_file_pointer				equ 0ch
       0000000D            B   132    kr_set_load_length				equ 0dh
       0000000E            B   133    kr_read_file					equ 0eh
                           B   134    
       0000000F            B   135    kr_erase_file					equ 0fh
       00000010            B   136    kr_rename_file					equ 10h
       00000011            B   137    kr_create_file					equ 11h
       00000012            B   138    kr_write_file					equ 12h
       00000013            B   139    kr_get_total_sectors			equ 13h
       00000014            B   140    kr_dir_list_first_entry			equ 14h
       00000015            B   141    kr_dir_list_get_entry			equ 15h
       00000016            B   142    kr_dir_list_next_entry			equ 16h
                           B   143    
       00000017            B   144    kr_read_sector					equ 17h
       00000018            B   145    kr_write_sector					equ 18h
       00000019            B   146    kr_file_sector_list				equ 19h
       0000001A            B   147    kr_get_dir_cluster				equ 1ah
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   4


PC     Object              I  Line    Source ..\..\..\..\..\Includes\PROSE_header.asm
       0000001B            B   148    kr_set_dir_cluster				equ 1bh
       0000001C            B   149    kr_get_dir_name					equ 1ch
       0000001D            B   150    kr_wait_key						equ 1dh
       0000001E            B   151    kr_get_key						equ 1eh
                           B   152    
       0000001F            B   153    kr_get_key_mod_flags			equ 1fh
       00000020            B   154    kr_serial_receive_header		equ 20h
       00000021            B   155    kr_serial_receive_file			equ 21h
       00000022            B   156    kr_serial_send_file				equ 22h
       00000023            B   157    kr_serial_tx_byte				equ 23h
       00000024            B   158    kr_serial_rx_byte				equ 24h
                           B   159    
       00000025            B   160    kr_print_string					equ 25h
       00000026            B   161    kr_clear_screen					equ 26h
       00000027            B   162    kr_wait_vrt						equ 27h
       00000028            B   163    kr_set_cursor_position			equ 28h
       00000029            B   164    kr_plot_char					equ 29h
       0000002A            B   165    kr_set_pen						equ 2ah
       0000002B            B   166    kr_background_colours			equ 2bh
       0000002C            B   167    kr_draw_cursor					equ 2ch
       0000002D            B   168    kr_get_pen						equ 2dh
       0000002E            B   169    kr_scroll_up					equ 2eh
       0000002F            B   170    kr_os_display					equ 2fh
                           B   171    
       00000030            B   172    kr_get_display_size				equ 30h	
       00000030            B   173    kr_get_video_mode				equ 30h	;prefer
                           B   174    
       00000031            B   175    kr_get_charmap_addr_xy			equ 31h
       00000032            B   176    kr_get_cursor_position			equ 32h
                           B   177    
       00000033            B   178    kr_set_envar					equ 33h
       00000034            B   179    kr_get_envar					equ 34h
       00000035            B   180    kr_delete_envar					equ 35h
                           B   181    
       00000036            B   182    kr_set_mouse_window				equ 36h
       00000037            B   183    kr_get_mouse_position			equ 37h
       00000038            B   184    kr_get_mouse_motion				equ 38h
                           B   185    
       00000039            B   186    kr_time_delay					equ 39h
       0000003A            B   187    kr_compare_strings				equ 3ah
       0000003B            B   188    kr_hex_byte_to_ascii			equ 3bh
       0000003C            B   189    kr_ascii_to_hex_word			equ 3ch
       0000003D            B   190    kr_get_string					equ 3dh
                           B   191    
       0000003E            B   192    kr_get_version					equ 3eh
       0000003F            B   193    kr_dont_store_registers			equ 3fh
       00000040            B   194    kr_get_font_info				equ 40h
       00000041            B   195    kr_read_rtc						equ 41h
       00000042            B   196    kr_write_rtc					equ 42h
                           B   197    
       00000043            B   198    kr_get_keymap_location			equ 43h
       00000044            B   199    kr_get_os_high_mem				equ 44h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   5


PC     Object              I  Line    Source ..\..\..\..\..\Includes\PROSE_header.asm
                           B   200    
       00000045            B   201    kr_play_audio					equ 45h
       00000046            B   202    kr_disable_audio				equ 46h
       00000047            B   203    kr_get_joysticks				equ 47h
       00000048            B   204    kr_set_video_mode				equ 48h
       00000049            B   205    kr_set_cursor_image				equ 49h
       0000004A            B   206    kr_remove_cursor				equ 4ah
       0000004B            B   207    kr_char_to_font				equ 4bh
                           B   208    
                           B   209    ;----------------------------------------------
                           B   210    ; Standard PROSE executable header
                           B   211    ;----------------------------------------------
                           B   212    
                           B   213    
                           B   214    	IF ADL_mode = 0
                           B   215    		org load_location&0ffffh	; if Z80 mo
                           B   216    	ELSE
010000                     B   217    		org load_location			; otherwise
                           B   218    	ENDIF
                           B   219    	
                           B   220    		.assume ADL = 1				; All PROSE
                           B   221    
010000 18 0E               B   222    		jr skip_header				; $0 - Jump
010002 50524F              B   223    		db 'PRO'					; $2 - ASCI
010005 000001              B   224    mb_loc	dw24 load_location			; $5 - Desi
010008 000000              B   225    		dw24 0						; $8 - If >
01000B 0000                B   226    		dw prose_version_req		; $B - If >
01000D 0000                B   227    		dw amoeba_version_req		; $D - If >
01000F 01                  B   228    		db ADL_mode					; $F - Z80 
                           B   229    
010010                     B   230    skip_header
                           B   231    	
                           B   232    	IF ADL_mode = 0 
                           B   233    		
                           B   234    mbase_offset equ load_location & 0ff0000h
                           B   235    
                           B   236    		ld a,load_location/65536	; Additiona
                           B   237    		ld MB,a						; Set MBASE
                           B   238    		jp.sis go_z80_mode			; switches 
                           B   239    
                           B   240    go_z80_mode
                           B   241    
                           B   242    		.assume ADL = 0
                           B   243    
                           B   244    	ENDIF
                           B   245    	
                           B   246    ;----------------------------------------------
                           B   247    	
                           A    10    
                           A    11    ;----------------------------------------------
                           A    12    ; ADL-mode user program follows..
                           A    13    ;----------------------------------------------
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   6


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A    14    
010010 CD 1A 00 01         A    15    			call my_prog
010014 AF                  A    16    			xor a
010015 5BC3140A 00         A    17    			jp.lil prose_return				; b
                           A    18    
                           A    19    ;----------------------------------------------
                           A    20    
01001A                     A    21    my_prog		
01001A CD 1F 00 01         A    22    			call disassemble				; d
01001E C9                  A    23    			ret
                           A    24    
                           A    25    ;----------------------------------------------
                           A    26    
                           A    27    ; Set IX = address to disassemble from..
                           A    28    ; on exit IX = next opcode address
                           A    29    
01001F                     A    30    disassemble	
01001F DD7E80              A    31    			ld a,(ix-128)
-----ERROR (502) Offset in operand 1241988 is out of range
                           A    32    
010022 DD2A 9F 0A 01       A    33    			ld ix,(dis_addr)	
010027 CD C1 05 01         A    34    			call show_ix					; s
01002B 3E20                A    35    			ld a,' '
01002D CD A6 05 01         A    36    			call show_ascii_char
                           A    37    
010031 FD21 DF 05 01       A    38    			ld iy,prefix_bits_loc
010036 FD360000            A    39    			ld (iy),0						; c
01003A CD 78 00 01         A    40    			call dis_instr
01003E DD23                A    41    			inc ix							; i
                           A    42    			
010040 DDE5                A    43    			push ix
010042 3E32                A    44    			ld a,kr_get_cursor_position
010044 5BCD200A 00         A    45    			call.lil prose_kernal
010049 0618                A    46    			ld b,24
01004B 3E28                A    47    			ld a,kr_set_cursor_position
01004D 5BCD200A 00         A    48    			call.lil prose_kernal
010052 DDE1                A    49    			pop ix
                           A    50    			
010054 ED4B 9F 0A 01       A    51    			ld bc,(dis_addr)
010059 DD22 9F 0A 01       A    52    			ld (dis_addr),ix
01005E DDE5                A    53    			push ix
010060 E1                  A    54    			pop hl
010061 AF                  A    55    			xor a
010062 ED42                A    56    			sbc hl,bc						;nu
010064 7D                  A    57    			ld a,l
010065 E607                A    58    			and 7
010067 6F                  A    59    			ld l,a
010068 0A                  A    60    shexoplp	ld a,(bc)
010069 CD 82 05 01         A    61    			call show_hex_byte
01006D 3E20                A    62    			ld a,' '
01006F CD A6 05 01         A    63    			call show_ascii_char
010073 03                  A    64    			inc bc
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   7


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010074 2D                  A    65    			dec l
010075 20 F1               A    66    			jr nz,shexoplp
                           A    67    			
010077 C9                  A    68    			ret
                           A    69    
                           A    70    ;- Handle op code prefixes --------------------
                           A    71    			
       00000000            A    72    cb_prefix			equ 0					
       00000001            A    73    ed_prefix			equ 1
       00000002            A    74    sub_ix_prefix		equ 2
       00000003            A    75    sub_iy_prefix		equ 3
       00000004            A    76    ddcb_fdcb_prefix	equ 4					; p
       00000005            A    77    dot_l_prefix		equ 5
       00000006            A    78    il_prefix			equ 6
       00000007            A    79    show_adl_prefix		equ 7
                           A    80    
       00000000            A    81    adl_dis				equ 0					; b
                           A    82    
                           A    83    
010078 DD7E00              A    84    dis_instr	ld a,(ix)						; c
                           A    85    			
01007B FDCB 07 46          A    86    			bit adl_dis,(iy+var_adl)		; i
01007F 28 04               A    87    			jr z,z80_list					; T
010081 FDCB00F6            A    88    			set il_prefix,(iy)				; a
010085                     A    89    z80_list			
                           A    90    			
                           A    91    ;----------------------------------------------
                           A    92    
010085 FE40                A    93    			cp 40h
010087 20 0A               A    94    			jr nz,not_sis
010089 FDCB00B6            A    95    			res il_prefix,(iy)
01008D FDCB00AE            A    96    			res dot_l_prefix,(iy)
010091 18 28               A    97    			jr set_adl_pf
                           A    98    			
010093 FE49                A    99    not_sis		cp 49h
010095 20 0A               A   100    			jr nz,not_lis
010097 FDCB00B6            A   101    			res il_prefix,(iy)
01009B FDCB00EE            A   102    			set dot_l_prefix,(iy)
01009F 18 1A               A   103    			jr set_adl_pf
                           A   104    			
0100A1 FE52                A   105    not_lis		cp 52h
0100A3 20 0A               A   106    			jr nz,not_sil
0100A5 FDCB00F6            A   107    			set il_prefix,(iy)
0100A9 FDCB00AE            A   108    			res dot_l_prefix,(iy)
0100AD 18 0C               A   109    			jr set_adl_pf
                           A   110    			
0100AF FE5B                A   111    not_sil		cp 5bh
0100B1 20 11               A   112    			jr nz,not_adl_prefix_byte
0100B3 FDCB00F6            A   113    			set il_prefix,(iy)
0100B7 FDCB00EE            A   114    			set dot_l_prefix,(iy)
                           A   115    			
0100BB FDCB00FE            A   116    set_adl_pf	set show_adl_prefix,(iy)
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   8


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0100BF DD23                A   117    			inc ix
0100C1 DD7E00              A   118    			ld a,(ix)	
                           A   119    			
                           A   120    ;----------------------------------------------
                           A   121    
0100C4                     A   122    not_adl_prefix_byte			
                           A   123    			
0100C4 FECB                A   124    			cp 0cbh								0100C6 20 08               A   125    			jr nz,not_cb
0100C8 FDCB00C6            A   126    do_cb		set cb_prefix,(iy)
0100CC DD23                A   127    			inc ix
0100CE 18 3A               A   128    			jr not_traditional_prefix_byte
                           A   129    
0100D0 FEED                A   130    not_cb		cp 0edh
0100D2 20 08               A   131    			jr nz,not_ed
0100D4 FDCB00CE            A   132    do_ed		set ed_prefix,(iy)
0100D8 DD23                A   133    			inc ix
0100DA 18 2E               A   134    			jr not_traditional_prefix_byte
                           A   135    
0100DC FEDD                A   136    not_ed		cp 0ddh
0100DE 20 18               A   137    			jr nz,not_dd
0100E0 CD 03 03 01         A   138    do_dd		call check_nxt_byte_prefix			0100E4 28 92               A   139    			jr z,dis_instr						0100E6 FDCB00D6            A   140    			set sub_ix_prefix,(iy)
0100EA FECB                A   141    xdcb_query	cp 0cbh								0100EC 20 1C               A   142    			jr nz,not_traditional_prefix_byte	0100EE FDCB00E6            A   143    			set ddcb_fdcb_prefix,(iy)
0100F2 DD23                A   144    			inc ix								0100F4 DD23                A   145    			inc ix								0100F6 18 12               A   146    			jr not_traditional_prefix_byte
                           A   147    
0100F8 FEFD                A   148    not_dd		cp 0fdh
0100FA 20 0E               A   149    			jr nz,not_traditional_prefix_byte
0100FC CD 03 03 01         A   150    do_fd		call check_nxt_byte_prefix
010100 CA 78 00 01         A   151    			jr z,dis_instr	
010104 FDCB00DE            A   152    			set sub_iy_prefix,(iy)
010108 18 E0               A   153    			jr xdcb_query
                           A   154    
01010A                     A   155    not_traditional_prefix_byte
                           A   156    
                           A   157    ;----------------------------------------------
                           A   158    
01010A DD7E00              A   159    			ld a,(ix)	
01010D E6C0                A   160    			and 11000000b			; seperate 
01010F 07                  A   161    			rlca
010110 07                  A   162    			rlca
010111 FD77 01             A   163    			ld (iy+var_x),a			;var x= val
                           A   164    			
010114 DD7E00              A   165    			ld a,(ix)
010117 E638                A   166    			and 00111000b
010119 CB3F                A   167    			srl a
01011B CB3F                A   168    			srl a
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:   9


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
01011D CB3F                A   169    			srl a	
01011F FD77 02             A   170    			ld (iy+var_y),a			;var x = vl
                           A   171    
010122 DD7E00              A   172    			ld a,(ix)
010125 E607                A   173    			and 00000111b
010127 FD77 03             A   174    			ld (iy+var_z),a			;var z = va
                           A   175    			
01012A DD7E00              A   176    			ld a,(ix)
01012D E630                A   177    			and 00110000b
01012F CB3F                A   178    			srl a
010131 CB3F                A   179    			srl a
010133 CB3F                A   180    			srl a
010135 CB3F                A   181    			srl a
010137 FD77 04             A   182    			ld (iy+var_p),a			; var p = v
                           A   183    			
01013A DD7E00              A   184    			ld a,(ix)
01013D E608                A   185    			and 00001000b
01013F CB3F                A   186    			srl a
010141 CB3F                A   187    			srl a
010143 CB3F                A   188    			srl a
010145 FD77 05             A   189    			ld (iy+var_q),a				;var q 
                           A   190    
010148 CD 11 03 01         A   191    			call find_instruction_ascii		; g
                           A   192    	
                           A   193    ;----------------------------------------------
                           A   194    
01014C 78                  A   195    index_table	ld a,b							; a
01014D B7                  A   196    			or a
01014E 28 07               A   197    			jr z,parse_instr				; m
010150 CB7E                A   198    d_filp		bit 7,(hl)						; w
010152 23                  A   199    			inc hl							; o
010153 28 FB               A   200    			jr z,d_filp					
010155 10 F9               A   201    			djnz d_filp
                           A   202    										
                           A   203    			
010157 FD21 DF 05 01       A   204    parse_instr	ld iy,opcode_vars
01015C 01000000            A   205    			ld bc,0
010160 7E                  A   206    			ld a,(hl)						;ge
010161 FE80                A   207    			cp 80h
010163 C8                  A   208    			ret z
010164 E67F                A   209    			and 7fh
                           A   210    			
010166 FE26                A   211    			cp '&'							;sy
010168 20 28               A   212    			jr nz,not_adlsym
01016A FDCB007E            A   213    			bit show_adl_prefix,(iy)		;do
01016E CA EC 02 01         A   214    			jr z,next_opcode_ascii_char
010172 0600                A   215    			ld b,0
010174 FDCB006E            A   216    			bit dot_l_prefix,(iy)
010178 28 02               A   217    			jr z,naplsb
01017A CBC0                A   218    			set 0,b
01017C FDCB0076            A   219    naplsb		bit il_prefix,(iy)
010180 28 02               A   220    			jr z,napmsb
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  10


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010182 CBC8                A   221    			set 1,b
010184 E5                  A   222    napmsb		push hl
010185 21 87 0A 01         A   223    			ld hl,adl_prefix_list
010189 CD 4C 01 01         A   224    			call index_table				; r
01018D E1                  A   225    			pop hl
01018E C3 EC 02 01         A   226    			jp next_opcode_ascii_char
                           A   227    
010192 FE5E                A   228    not_adlsym	cp '^'							;sy
010194 20 0D               A   229    			jr nz,d_not_imm8
010196 DD23                A   230    			inc ix							;th
010198 DD7E00              A   231    			ld a,(ix)
01019B CD 82 05 01         A   232    			call show_hex_byte
01019F C3 EC 02 01         A   233    			jp next_opcode_ascii_char
                           A   234    					
0101A3 FE21                A   235    d_not_imm8	cp '!'							;sy
0101A5 20 26               A   236    			jr nz,d_not_imm16					0101A7 11020000            A   237    			ld de,2
0101AB FDCB0076            A   238    			bit il_prefix,(iy)				;ad
0101AF 28 08               A   239    			jr z,imm16
0101B1 13                  A   240    			inc de
0101B2 DD7E03              A   241    			ld a,(ix+3)
0101B5 CD 82 05 01         A   242    			call show_hex_byte
0101B9 DD7E02              A   243    imm16		ld a,(ix+2)						;sh
0101BC CD 82 05 01         A   244    			call show_hex_byte			
0101C0 DD7E01              A   245    			ld a,(ix+1)						;th
0101C3 CD 82 05 01         A   246    			call show_hex_byte
0101C7 DD19                A   247    			add ix,de						;ad
0101C9 C3 EC 02 01         A   248    			jp next_opcode_ascii_char
                           A   249    
0101CD FE2F                A   250    d_not_imm16	cp '/'							;sy
0101CF 20 36               A   251    			jr nz,d_not_sb
0101D1 FDCB0066            A   252    			bit ddcb_fdcb_prefix,(iy)
0101D5 28 05               A   253    			jr z,norm_dbyte
0101D7 DD7EFF              A   254    			ld a,(ix-1)						;if
0101DA 18 05               A   255    			jr xdcb_dbyte
0101DC DD23                A   256    norm_dbyte	inc ix
0101DE DD7E00              A   257    			ld a,(ix)						;th
0101E1 CB7F                A   258    xdcb_dbyte	bit 7,a
0101E3 20 10               A   259    			jr nz,d_sbin					;sh
0101E5 F5                  A   260    			push af
0101E6 3E2B                A   261    			ld a,'+'
0101E8 CD A6 05 01         A   262    			call show_ascii_char
0101EC F1                  A   263    			pop af
0101ED CD 82 05 01         A   264    			call show_hex_byte
0101F1 C3 EC 02 01         A   265    			jp next_opcode_ascii_char
0101F5 F5                  A   266    d_sbin		push af
0101F6 3E2D                A   267    			ld a,'-'
0101F8 CD A6 05 01         A   268    			call show_ascii_char
0101FC F1                  A   269    			pop af
0101FD ED44                A   270    			neg
0101FF CD 82 05 01         A   271    			call show_hex_byte
010203 C3 EC 02 01         A   272    			jp next_opcode_ascii_char
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  11


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   273    			
010207 FE64                A   274    d_not_sb	cp 'd'							;sy
010209 20 1E               A   275    			jr nz,d_not_pcdip
01020B DD23                A   276    			inc ix
01020D 01000000            A   277    			ld bc,0
010211 DD7E00              A   278    			ld a,(ix)
010214 CB7F                A   279    			bit 7,a
010216 28 01               A   280    			jr z,d_spcd_pos
010218 0B                  A   281    			dec bc
010219 4F                  A   282    d_spcd_pos	ld c,a
01021A 03                  A   283    			inc bc
01021B DDE5                A   284    			push ix
01021D DD09                A   285    			add ix,bc
01021F CD C1 05 01         A   286    			call show_ix
010223 DDE1                A   287    			pop ix
010225 C3 EC 02 01         A   288    			jp next_opcode_ascii_char
                           A   289    
010229 FE3E                A   290    d_not_pcdip	cp '>'							;sy
01022B 20 16               A   291    			jr nz,d_not_sdig
01022D 23                  A   292    			inc hl							;th
01022E 01000000            A   293    			ld bc,0
010232 4E                  A   294    			ld c,(hl)
010233 FD21 DF 05 01       A   295    			ld iy,opcode_vars
010238 FD09                A   296    			add iy,bc
01023A FD7E00              A   297    			ld a,(iy)						;a 
01023D C630                A   298    			add a,30h						;co
01023F C3 E8 02 01         A   299    			jp d_output_char
                           A   300    
010243 FE5F                A   301    d_not_sdig	cp '_'
010245 20 12               A   302    			jr nz,d_nhlsubst				; s
010247 E5                  A   303    			push hl
010248 21 5F 0A 01         A   304    			ld hl,hl_subs
01024C CD F4 02 01         A   305    hl_subst	call prefix_to_offset
010250 CD 4C 01 01         A   306    			call index_table				; r
010254 E1                  A   307    			pop hl
010255 C3 EC 02 01         A   308    			jp next_opcode_ascii_char
                           A   309    			
010259 FE7C                A   310    d_nhlsubst	cp '|'
01025B 20 07               A   311    			jr nz,d_noinvhls
01025D E5                  A   312    			push hl
01025E 21 65 0A 01         A   313    			ld hl,inv_hl_subs
010262 18 E8               A   314    			jr hl_subst
                           A   315    			
010264 FE68                A   316    d_noinvhls	cp 'h'							;sy
010266 20 07               A   317    			jr nz,d_nhsubst
010268 E5                  A   318    			push hl
010269 21 6B 0A 01         A   319    			ld hl,h_subs
01026D 18 DD               A   320    			jr hl_subst
                           A   321    			
01026F FE6C                A   322    d_nhsubst	cp 'l'							;sy
010271 20 07               A   323    			jr nz,d_nlsubst
010273 E5                  A   324    			push hl
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  12


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010274 21 72 0A 01         A   325    			ld hl,l_subs
010278 18 D2               A   326    			jr hl_subst
                           A   327    			
01027A FE24                A   328    d_nlsubst	cp '$'
01027C 20 07               A   329    			jr nz,d_nihlsubst				; s
01027E E5                  A   330    			push hl
01027F 21 79 0A 01         A   331    			ld hl,ind_hl_subs
010283 18 C7               A   332    			jr hl_subst
                           A   333    
                           A   334    
010285                     A   335    d_nihlsubst	
                           A   336    
010285 FE7E                A   337    			cp '~'							; s
010287 20 1F               A   338    			jr nz,ntable_r
010289 11 DF 09 01         A   339    			ld de,table_r
01028D 23                  A   340    do_table 	inc hl
01028E 01000000            A   341    			ld bc,0							; t
010292 4E                  A   342    			ld c,(hl)
010293 FD21 DF 05 01       A   343    			ld iy,opcode_vars
010298 FD09                A   344    			add iy,bc
01029A FD4600              A   345    			ld b,(iy)						;in
01029D E5                  A   346    			push hl
01029E EB                  A   347    			ex de,hl
01029F CD 4C 01 01         A   348    			call index_table				; r
0102A3 E1                  A   349    			pop hl
0102A4 C3 EC 02 01         A   350    			jp next_opcode_ascii_char
                           A   351    			
0102A8 11 EA 09 01         A   352    ntable_r	ld de,table_rp					; s
0102AC FE40                A   353    			cp '@'
0102AE 28 DD               A   354    			jr z,do_table 
                           A   355    			
0102B0 11 F1 09 01         A   356    			ld de,table_rp2					; s
0102B4 FE2A                A   357    			cp '*'
0102B6 28 D5               A   358    			jr z,do_table
                           A   359    			
0102B8 11 3F 0A 01         A   360    			ld de,table_rp3					; s
0102BC FE3C                A   361    			cp '<'
0102BE 28 CD               A   362    			jr z,do_table
                           A   363    			
0102C0 11 47 0A 01         A   364    			ld de,table_rp4					; s
0102C4 FE7D                A   365    			cp '}'
0102C6 28 C5               A   366    			jr z,do_table
                           A   367    			
0102C8 11 F9 09 01         A   368    			ld de,table_cc					; s
0102CC FE23                A   369    			cp '#'
0102CE 28 BD               A   370    			jr z,do_table 
                           A   371    			
0102D0 11 05 0A 01         A   372    			ld de,table_alu					; s
0102D4 FE3A                A   373    			cp ':'
0102D6 28 B5               A   374    			jr z,do_table 
                           A   375    			
0102D8 11 29 0A 01         A   376    			ld de,table_rot					; s
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  13


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0102DC FE25                A   377    			cp '%'
0102DE 28 AD               A   378    			jr z,do_table 
                           A   379    			
0102E0 11 4F 0A 01         A   380    			ld de,table_rst					; s
0102E4 FE3B                A   381    			cp ';'
0102E6 28 A5               A   382    			jr z,do_table 
                           A   383    
                           A   384    			
0102E8                     A   385    ntable_bli
                           A   386    
                           A   387    ;----------------------------------------------
                           A   388    
0102E8                     A   389    d_output_char
                           A   390    
0102E8 CD A6 05 01         A   391    			call show_ascii_char
                           A   392    
0102EC                     A   393    next_opcode_ascii_char
                           A   394    
0102EC CB7E                A   395    			bit 7,(hl)						;if
0102EE C0                  A   396    			ret nz
0102EF 23                  A   397    			inc hl
0102F0 C3 57 01 01         A   398    			jp parse_instr
                           A   399    			
                           A   400    			
                           A   401    ;----------------------------------------------
                           A   402    
                           A   403    
0102F4                     A   404    prefix_to_offset
                           A   405    
0102F4 0602                A   406    			ld b,2							;se
0102F6 FDCB005E            A   407    			bit sub_iy_prefix,(iy)
0102FA C0                  A   408    			ret nz
0102FB 05                  A   409    			dec b
0102FC FDCB0056            A   410    			bit sub_ix_prefix,(iy)
010300 C0                  A   411    			ret nz
010301 05                  A   412    			dec b
010302 C9                  A   413    			ret
                           A   414    			
                           A   415    			
010303                     A   416    check_nxt_byte_prefix			
                           A   417    
010303 DD23                A   418    			inc ix
010305 DD7E00              A   419    			ld a,(ix)
010308 FEDD                A   420    			cp 0ddh
01030A C8                  A   421    			ret z
01030B FEED                A   422    			cp 0edh
01030D C8                  A   423    			ret z
01030E FEFD                A   424    			cp 0fdh
010310 C9                  A   425    			ret
                           A   426    			
                           A   427    			
                           A   428    ;==============================================
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  14


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   429    ;- Find instruction ascii ---------------------
                           A   430    ;==============================================
                           A   431    
                           A   432    ; Returns HL = ptr to ascii name
                           A   433    ;          B = group index (number of instructi
                           A   434    
010311                     A   435    find_instruction_ascii
                           A   436    
010311 0600                A   437    			ld b,0						; defau
                           A   438    
010313 FDCB0066            A   439    			bit ddcb_fdcb_prefix,(iy)	; Was t
010317 28 12               A   440    			jr z,not_ddcb_fdcb_inst
010319 21 BC 09 01         A   441    			ld hl,ddcb_fdcb_z6		
01031D FD46 01             A   442    			ld b,(iy+var_x)				; x is 
010320 FD7E 03             A   443    			ld a,(iy+var_z)
010323 FE06                A   444    			cp 6
010325 C8                  A   445    			ret z
010326 21 8A 09 01         A   446    			ld hl,ddcb_fdcb_zn6					01032A C9                  A   447    			ret
                           A   448    			
                           A   449    ;==============================================
                           A   450    
01032B                     A   451    not_ddcb_fdcb_inst
                           A   452    
01032B FDCB0046            A   453    			bit cb_prefix,(iy)			;is thi
01032F 28 08               A   454    			jr z,not_cb_inst
010331 21 70 07 01         A   455    			ld hl,cb_group		
010335 FD46 01             A   456    			ld b,(iy+var_x)				; x is 
010338 C9                  A   457    			ret
                           A   458    
                           A   459    ;==============================================
                           A   460    
010339                     A   461    not_cb_inst
                           A   462    
010339 FDCB004E            A   463    			bit ed_prefix,(iy)			;is thi
01033D CA 63 04 01         A   464    			jr z,not_ed_inst
                           A   465    
010341 FD7E 01             A   466    			ld a,(iy+var_x)				;x = 0
010344 B7                  A   467    			or a
010345 20 5B               A   468    			jr nz,notedx0
                           A   469    		
                           A   470    			
010347 FD7E 03             A   471    			ld a,(iy+var_z)				
01034A B7                  A   472    			or a
01034B 20 0D               A   473    			jr nz,notedx0z0
01034D 21 94 07 01         A   474    			ld hl,ed_x0_z0_yn6			;x0 / z
010351 FD7E 02             A   475    			ld a,(iy+var_y)
010354 FE06                A   476    			cp 6
010356 C0                  A   477    			ret nz
010357 0601                A   478    			ld b,1
010359 C9                  A   479    			ret
                           A   480    
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  15


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
01035A FE01                A   481    notedx0z0	cp 1
01035C 20 0D               A   482    			jr nz,notedx0z1
01035E 21 A5 07 01         A   483    			ld hl,ed_x0_z1				;x0 / z
010362 FD7E 02             A   484    			ld a,(iy+var_y)
010365 FE06                A   485    			cp 6
010367 C0                  A   486    			ret nz
010368 0601                A   487    			ld b,1
01036A C9                  A   488    			ret
                           A   489    
01036B FE02                A   490    notedx0z1	cp 2
01036D 20 05               A   491    			jr nz,notedx0z2
01036F 21 B9 07 01         A   492    			ld hl,ed_x0_z2				;x0 / z
010373 C9                  A   493    			ret
                           A   494    
010374 FE03                A   495    notedx0z2	cp 3
010376 20 05               A   496    			jr nz,notedx0z3
010378 21 C4 07 01         A   497    			ld hl,ed_x0_z3				;x0 / z
01037C C9                  A   498    			ret
                           A   499    			
01037D FE04                A   500    notedx0z3	cp 4
01037F 20 05               A   501    			jr nz,notedx0z4
010381 21 CF 07 01         A   502    			ld hl,ed_x0_z4				;x0 / z
010385 C9                  A   503    			ret
                           A   504    
010386 FE06                A   505    notedx0z4	cp 6
010388 20 05               A   506    			jr nz,notedx0z6				;x0 / z
01038A 21 D8 07 01         A   507    			ld hl,ed_x0_z6
01038E C9                  A   508    			ret
                           A   509    
01038F FE07                A   510    notedx0z6	cp 7
010391 C2 DC 09 01         A   511    			jr nz,bad_opcode			;x0 / z
010395 21 E2 07 01         A   512    			ld hl,ed_x0_z7
010399 FD7E 02             A   513    			ld a,(iy+var_y)
01039C FE06                A   514    			cp 6
01039E C0                  A   515    			ret nz
01039F 0601                A   516    			ld b,1
0103A1 C9                  A   517    			ret
                           A   518    			
                           A   519    ;----------------------------------------------
                           A   520    			
0103A2 FE01                A   521    notedx0		cp 1	
0103A4 20 68               A   522    			jr nz,ed_xn1
                           A   523    
0103A6 FD7E 03             A   524    			ld a,(iy+var_z)					;x 
0103A9 B7                  A   525    			or a
0103AA 20 0D               A   526    			jr nz,ed_x1_zn0
0103AC 21 F5 07 01         A   527    			ld hl,ed_x1_z0_yn6				;z 
0103B0 FD7E 02             A   528    			ld a,(iy+var_y)
0103B3 FE06                A   529    			cp 6
0103B5 C0                  A   530    			ret nz
0103B6 0601                A   531    			ld b,1
0103B8 C9                  A   532    			ret
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  16


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   533    			
0103B9 FE01                A   534    ed_x1_zn0	cp 1
0103BB 20 0D               A   535    			jr nz,ed_x1_zn1
0103BD 21 05 08 01         A   536    			ld hl,ed_x1_z1_yn6				;z 
0103C1 FD7E 02             A   537    			ld a,(iy+var_y)
0103C4 FE06                A   538    			cp 6
0103C6 C0                  A   539    			ret nz
0103C7 0601                A   540    			ld b,1
0103C9 C9                  A   541    			ret
                           A   542    		
0103CA FE02                A   543    ed_x1_zn1	cp 2
0103CC 20 08               A   544    			jr nz,ed_x1_zn2					;z 
0103CE 21 19 08 01         A   545    			ld hl,ed_x1_z2	
0103D2 FD46 05             A   546    			ld b,(iy+var_q)
0103D5 C9                  A   547    			ret
                           A   548    
0103D6 FE03                A   549    ed_x1_zn2	cp 3
0103D8 20 08               A   550    			jr nz,ed_x1_zn3					;z 
0103DA 21 2F 08 01         A   551    			ld hl,ed_x1_z3	
0103DE FD46 05             A   552    			ld b,(iy+var_q)
0103E1 C9                  A   553    			ret
                           A   554    			
0103E2 FE04                A   555    ed_x1_zn3	cp 4							;z 
0103E4 20 08               A   556    			jr nz,ed_x1_zn4
0103E6 21 43 08 01         A   557    			ld hl,ed_x1_z4
0103EA FD46 02             A   558    			ld b,(iy+var_y)
0103ED C9                  A   559    			ret
                           A   560    			
0103EE FE05                A   561    ed_x1_zn4	cp 5
0103F0 20 08               A   562    			jr nz,ed_x1_zn5
0103F2 21 79 08 01         A   563    			ld hl,ed_x1_z5					;z 
0103F6 FD46 02             A   564    			ld b,(iy+var_y)
0103F9 C9                  A   565    			ret
                           A   566    			
0103FA FE06                A   567    ed_x1_zn5	cp 6
0103FC 20 08               A   568    			jr nz,ed_x1_zn6					;z=
0103FE 21 A2 08 01         A   569    			ld hl,ed_x1_z6
010402 FD46 02             A   570    			ld b,(iy+var_y)
010405 C9                  A   571    			ret
                           A   572    			
010406 21 C6 08 01         A   573    ed_x1_zn6	ld hl,ed_x1_z7					;z=
01040A FD46 02             A   574    			ld b,(iy+var_y)
01040D C9                  A   575    			ret
                           A   576    
                           A   577    ;----------------------------------------------
                           A   578    				
01040E FE02                A   579    ed_xn1		cp 2
010410 20 2E               A   580    			jr nz,ed_xn2
                           A   581    			
010412 FD46 02             A   582    			ld b,(iy+var_y)
010415 FD7E 03             A   583    			ld a,(iy+var_z)
010418 B7                  A   584    			or a
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  17


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010419 20 05               A   585    			jr nz,edx2zn0
01041B 21 EA 08 01         A   586    			ld hl,ed_x2_z0					;x=
01041F C9                  A   587    			ret
                           A   588    
010420 FE01                A   589    edx2zn0		cp 1
010422 20 05               A   590    			jr nz,edx2zn1
010424 21 FC 08 01         A   591    			ld hl,ed_x2_z1					;x=
010428 C9                  A   592    			ret
                           A   593    
010429 FE02                A   594    edx2zn1		cp 2
01042B 20 05               A   595    			jr nz,edx2zn2
01042D 21 0E 09 01         A   596    			ld hl,ed_x2_z2					;x=
010431 C9                  A   597    			ret
                           A   598    
010432 FE03                A   599    edx2zn2		cp 3
010434 20 05               A   600    			jr nz,edx2zn3
010436 21 2E 09 01         A   601    			ld hl,ed_x2_z3					;x=
01043A C9                  A   602    			ret
                           A   603    
01043B 21 50 09 01         A   604    edx2zn3		ld hl,ed_x2_z4					;x=
01043F C9                  A   605    			ret
                           A   606    
                           A   607    ;----------------------------------------------
                           A   608    
010440 FE03                A   609    ed_xn2		cp 3
010442 20 18               A   610    			jr nz,ed_xn3
                           A   611    			
010444 FD46 02             A   612    			ld b,(iy+var_y)
010447 FD7E 03             A   613    			ld a,(iy+var_z)
01044A FE02                A   614    			cp 2
01044C 20 05               A   615    			jr nz,edx3zn2
01044E 21 76 09 01         A   616    			ld hl,ed_x3_z2					;x=
010452 C9                  A   617    			ret
010453 FE03                A   618    edx3zn2		cp 3
010455 20 05               A   619    			jr nz,edx3zn3
010457 21 80 09 01         A   620    			ld hl,ed_x3_z3					;x=
01045B C9                  A   621    			ret
                           A   622    
01045C                     A   623    edx3zn3
                           A   624    
01045C                     A   625    ed_xn3
                           A   626    
                           A   627    ;----------------------------------------------
                           A   628    
01045C                     A   629    invalid_op
01045C 21 DC 09 01         A   630    			ld hl,bad_opcode				; x
010460 0600                A   631    			ld b,0
010462 C9                  A   632    			ret
                           A   633    			
                           A   634    			
                           A   635    ;========= UNPREFIXED INSTRUCTION =============
                           A   636    
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  18


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   637    
010463 FD7E 01             A   638    not_ed_inst	ld a,(iy+var_x)				; is X 
010466 B7                  A   639    			or a
010467 C2 00 05 01         A   640    			jr nz,x_not_zero
                           A   641    
                           A   642    ;----------------------------------------------
                           A   643    
                           A   644    
01046B FD7E 03             A   645    			ld a,(iy+var_z)				;x = 0
01046E B7                  A   646    			or a
01046F 20 14               A   647    			jr nz,x0_z_not_zero
010471 21 E7 05 01         A   648    			ld hl,x0_z0
010475 FD7E 02             A   649    			ld a,(iy+var_y)				;y is t
010478 47                  A   650    			ld b,a
010479 D604                A   651    			sub 4
01047B FD77 06             A   652    			ld (iy+var_calc),a			;var_ca
01047E 78                  A   653    			ld a,b
01047F FE04                A   654    			cp 4
010481 D8                  A   655    			ret c
010482 0604                A   656    			ld b,4						;if y >
010484 C9                  A   657    			ret
                           A   658    			
010485                     A   659    x0_z_not_zero		
                           A   660    			
010485 FE01                A   661    			cp 1
010487 20 14               A   662    			jr nz,x0_z_not_one
010489 21 07 06 01         A   663    			ld hl,x0_z1_yn6
01048D FD46 05             A   664    			ld b,(iy+var_q)				;q is t
010490 FD7E 02             A   665    			ld a,(iy+var_y)
010493 FE06                A   666    			cp 6
010495 C0                  A   667    			ret nz
010496 21 1A 06 01         A   668    			ld hl,x0_z1_y6
01049A 0600                A   669    			ld b,0
01049C C9                  A   670    			ret 
                           A   671    			
01049D                     A   672    x0_z_not_one
                           A   673    
01049D FE02                A   674    			cp 2
01049F 20 08               A   675    			jr nz,x0_z_not_two
0104A1 21 21 06 01         A   676    			ld hl,x0_z2
0104A5 FD46 02             A   677    			ld b,(iy+var_y)				;y is t
0104A8 C9                  A   678    			ret
                           A   679    			
0104A9                     A   680    x0_z_not_two
                           A   681    
0104A9 FE03                A   682    			cp 3
0104AB 20 08               A   683    			jr nz,x0_z_not_three
0104AD 21 6C 06 01         A   684    			ld hl,x0_z3
0104B1 FD46 05             A   685    			ld b,(iy+var_q)				;q is t
0104B4 C9                  A   686    			ret
                           A   687    			
0104B5                     A   688    x0_z_not_three
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  19


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   689    
0104B5 FE04                A   690    			cp 4
0104B7 20 05               A   691    			jr nz,x0_z_not_four
0104B9 21 7C 06 01         A   692    			ld hl,x0_z4					;no ini
0104BD C9                  A   693    			ret			
                           A   694    			
0104BE                     A   695    x0_z_not_four
                           A   696    
0104BE FE05                A   697    			cp 5
0104C0 20 05               A   698    			jr nz,x0_z_not_five
0104C2 21 83 06 01         A   699    			ld hl,x0_z5					;no ini
0104C6 C9                  A   700    			ret				
                           A   701    			
0104C7                     A   702    x0_z_not_five
                           A   703    
0104C7 FE06                A   704    			cp 6
0104C9 20 1A               A   705    			jr nz,x0_z_not_six
0104CB 21 8A 06 01         A   706    			ld hl,x0_z6					;normal
0104CF FD7E 02             A   707    			ld a,(iy+var_y)
0104D2 FE07                A   708    			cp 7
0104D4 C0                  A   709    			ret nz
0104D5 FDCB0056            A   710    			bit sub_ix_prefix,(iy)
0104D9 20 05               A   711    			jr nz,altx0z6
0104DB FDCB005E            A   712    			bit sub_iy_prefix,(iy)
0104DF C8                  A   713    			ret z	
0104E0 21 92 06 01         A   714    altx0z6		ld hl,alt_x0_z6				;if dd/
0104E4 C9                  A   715    			ret
                           A   716    
                           A   717    
0104E5                     A   718    x0_z_not_six
                           A   719    			
0104E5 21 99 06 01         A   720    			ld hl,x0_z7
0104E9 FD46 02             A   721    			ld b,(iy+var_y)				;y is n
0104EC FDCB0056            A   722    			bit sub_ix_prefix,(iy)
0104F0 20 05               A   723    			jr nz,altx0z7
0104F2 FDCB005E            A   724    			bit sub_iy_prefix,(iy)
0104F6 C8                  A   725    			ret z
0104F7 78                  A   726    altx0z7		ld a,b
0104F8 E601                A   727    			and 1
0104FA 47                  A   728    			ld b,a						;if dd/
0104FB 21 B3 06 01         A   729    			ld hl,alt_x0_z7				;this i
0104FF C9                  A   730    			ret
                           A   731    
                           A   732    ;----------------------------------------------
                           A   733    
010500 FE01                A   734    x_not_zero	cp 1						; is x 
010502 20 14               A   735    			jr nz,x_not_one
                           A   736    			
010504 21 C1 06 01         A   737    			ld hl,x1_table				; x=1
010508 0600                A   738    			ld b,0
01050A FD7E 02             A   739    			ld a,(iy+var_y)				; no in
01050D FE06                A   740    			cp 6
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  20


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
01050F C0                  A   741    			ret nz
010510 FD7E 03             A   742    			ld a,(iy+var_z)
010513 FE06                A   743    			cp 6
010515 C0                  A   744    			ret nz
010516 04                  A   745    			inc b						; unles
010517 C9                  A   746    			ret
                           A   747    		
                           A   748    ;----------------------------------------------
                           A   749    			
010518 FE02                A   750    x_not_one	cp 2						; is x 
01051A 20 05               A   751    			jr nz,x_not_two
01051C 21 CE 06 01         A   752    			ld hl,x2_table				; no in
010520 C9                  A   753    			ret
                           A   754    			
                           A   755    ;----------------------------------------------
                           A   756    
010521 FD7E 03             A   757    x_not_two	ld a,(iy+var_z)				; x mus
010524 B7                  A   758    			or a
010525 20 05               A   759    			jr nz,x3_z_not_zero
010527 21 D3 06 01         A   760    			ld hl,x3_z0					; no in
01052B C9                  A   761    			ret
                           A   762    						
01052C                     A   763    x3_z_not_zero
                           A   764    
01052C FE01                A   765    			cp 1
01052E 20 11               A   766    			jr nz,x3_z_not_one
010530 21 DA 06 01         A   767    			ld hl,x3_z1_q0
010534 FD7E 05             A   768    			ld a,(iy+var_q)
010537 B7                  A   769    			or a
010538 C8                  A   770    			ret z						; no in
010539 21 E2 06 01         A   771    			ld hl,x3_z1_q1
01053D FD46 04             A   772    			ld b,(iy+var_p)				; index
010540 C9                  A   773    			ret
                           A   774    
010541                     A   775    x3_z_not_one
                           A   776    
010541 FE02                A   777    			cp 2
010543 20 05               A   778    			jr nz,x3_z_not_two
010545 21 F7 06 01         A   779    			ld hl,x3_z2					;no ini
010549 C9                  A   780    			ret
                           A   781    
01054A                     A   782    x3_z_not_two
                           A   783    
01054A FE03                A   784    			cp 3
01054C 20 08               A   785    			jr nz,x3_z_not_three
01054E 21 00 07 01         A   786    			ld hl,x3_z3
010552 FD46 02             A   787    			ld b,(iy+var_y)				;index 
010555 C9                  A   788    			ret
                           A   789    
010556                     A   790    x3_z_not_three
                           A   791    
010556 FE04                A   792    			cp 4
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  21


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010558 20 05               A   793    			jr nz,x3_z_not_four
01055A 21 33 07 01         A   794    			ld hl,x3_z4				;no initial
01055E C9                  A   795    			ret						
                           A   796    
                           A   797    
01055F                     A   798    x3_z_not_four
                           A   799    
01055F FE05                A   800    			cp 5
010561 20 11               A   801    			jr nz,x3_z_not_five
010563 21 3E 07 01         A   802    			ld hl,x3_z5_q0
010567 FD7E 05             A   803    			ld a,(iy+var_q)
01056A B7                  A   804    			or a
01056B C8                  A   805    			ret z						;no ind
01056C 21 47 07 01         A   806    			ld hl,x3_z5_q1
010570 FD46 04             A   807    			ld b,(iy+var_p)				;else i
010573 C9                  A   808    			ret
                           A   809    
010574                     A   810    x3_z_not_five
                           A   811    
010574 FE06                A   812    			cp 6
010576 20 05               A   813    			jr nz,x3_z_not_six
010578 21 65 07 01         A   814    			ld hl,x3_z6					;no ind
01057C C9                  A   815    			ret
                           A   816    
01057D                     A   817    x3_z_not_six
                           A   818    
01057D 21 69 07 01         A   819    			ld hl,x3_z7					;x=3, z
010581 C9                  A   820    			ret
                           A   821    
                           A   822    
                           A   823    ;==============================================
                           A   824    
                           A   825    
010582                     A   826    show_hex_byte
                           A   827    
010582 FDE5                A   828    			push iy
010584 DDE5                A   829    			push ix
010586 D5                  A   830    			push de
010587 C5                  A   831    			push bc
010588 E5                  A   832    			push hl
010589 5F                  A   833    			ld e,a
01058A 3E3B                A   834    			ld a,kr_hex_byte_to_ascii
01058C 21 9A 0A 01         A   835    			ld hl,output_byte_txt
010590 E5                  A   836    			push hl
010591 5BCD200A 00         A   837    			call.lil prose_kernal
010596 3E25                A   838    			ld a,kr_print_string
010598 E1                  A   839    			pop hl
010599 5BCD200A 00         A   840    			call.lil prose_kernal
01059E E1                  A   841    			pop hl
01059F C1                  A   842    			pop bc
0105A0 D1                  A   843    			pop de
0105A1 DDE1                A   844    			pop ix
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  22


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0105A3 FDE1                A   845    			pop iy
0105A5 C9                  A   846    			ret
                           A   847    
                           A   848    
0105A6                     A   849    show_ascii_char
                           A   850    
0105A6 FDE5                A   851    			push iy
0105A8 DDE5                A   852    			push ix
0105AA D5                  A   853    			push de
0105AB C5                  A   854    			push bc
0105AC E5                  A   855    			push hl
0105AD 21 9D 0A 01         A   856    			ld hl,output_char_txt
0105B1 77                  A   857    			ld (hl),a
0105B2 3E25                A   858    			ld a,kr_print_string
0105B4 5BCD200A 00         A   859    			call.lil prose_kernal
0105B9 E1                  A   860    			pop hl
0105BA C1                  A   861    			pop bc
0105BB D1                  A   862    			pop de
0105BC DDE1                A   863    			pop ix
0105BE FDE1                A   864    			pop iy
0105C0 C9                  A   865    			ret
                           A   866    			
0105C1 DD22 97 0A 01       A   867    show_ix		ld (d_work_address),ix
0105C6 3A 99 0A 01         A   868    			ld a,(d_work_address+2)
0105CA CD 82 05 01         A   869    			call show_hex_byte
0105CE 3A 98 0A 01         A   870    			ld a,(d_work_address+1)
0105D2 CD 82 05 01         A   871    			call show_hex_byte
0105D6 3A 97 0A 01         A   872    			ld a,(d_work_address)
0105DA CD 82 05 01         A   873    			call show_hex_byte
0105DE C9                  A   874    			ret
                           A   875    			
                           A   876    ;----------------------------------------------
                           A   877    
                           A   878    ; SYMBOLS:
                           A   879    
                           A   880    ; # = CC_table
                           A   881    ; ~ = r table (registers)
                           A   882    ; @ = RP table (register pairs 1)
                           A   883    ; * = RP2 table (registers pairs 2)
                           A   884    ; : = ALU table
                           A   885    ; % = ROT table
                           A   886    ; _ = HL,IX/IY substitute selected by prefix
                           A   887    ;  = HL, IY/IX substitute based on prefix (IX/
                           A   888    ; $ = (HL),(IX+d),(IY+d) substitute selected by
                           A   889    ; h = H,IXH/IYH substitute selected by prefix
                           A   890    ; l = L,IXL,IYL substitute selected by prefix
                           A   891    ; & = ADL prefix 
                           A   892    
                           A   893    ; ^ = n (8 bit immediate)
                           A   894    ; ! = nn (16 or 24 bit immediate)
                           A   895    ; d = 8 bit signed jump displacement from PC
                           A   896    ; / = 8 bit signed byte used for IX+d, IY+d ins
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  23


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A   897    ; > = single digit used by BIT,SET,RES instruct
                           A   898    ; < = RP3 table (register pairs 3)
                           A   899    ; } = RP4 table (register pairs 4)
                           A   900    ; ; = RST table
                           A   901    
0105DF                     A   902    opcode_vars
                           A   903    
0105DF 00                  A   904    prefix_bits_loc	db 0	
0105E0 00                  A   905    var_x_loc		db 0	
0105E1 00                  A   906    var_y_loc		db 0	
0105E2 00                  A   907    var_z_loc		db 0	
0105E3 00                  A   908    var_p_loc		db 0	
0105E4 00                  A   909    var_q_loc		db 0
0105E5 00                  A   910    var_calc_loc	db 0
0105E6 01                  A   911    var_adl_loc		db 1
                           A   912    
       00000000            A   913    prefix_bits		equ opcode_vars-prefix_bits_loc
       00000001            A   914    var_x			equ var_x_loc-opcode_vars
       00000002            A   915    var_y			equ var_y_loc-opcode_vars
       00000003            A   916    var_z			equ var_z_loc-opcode_vars
       00000004            A   917    var_p			equ var_p_loc-opcode_vars
       00000005            A   918    var_q			equ var_q_loc-opcode_vars
       00000006            A   919    var_calc		equ var_calc_loc-opcode_vars
       00000007            A   920    var_adl			equ var_adl_loc-opcode_vars
                           A   921    
                           A   922    ;---- Unprefixed opcodes ----------------------
                           A   923    
                           A   924    
0105E7 4E4FD0              A   925    x0_z0		db 'NO','P'+80h				; y0
0105EA 45582041 462C4146   A   926    			db 'EX AF,AF',27h+80h		; y1 
0105F2 A7 
0105F3 444A4E5A 206480     A   927    			db 'DJNZ ','d',80h			; y2
0105FA 4A522064 80         A   928    			db 'JR ','d',80h			; y3
0105FF 4A522023 06 2C6480   A   929    			db 'JR #',var_calc,',d',80h	; y4-y7
                           A   930    			
010607 4C442620 40 04      A   931    x0_z1_yn6	db 'LD& @',var_p,',!',80h	; q=0
01060D 2C2180 
010610 41444426 205F2C40   A   932    			db 'ADD& _,@',var_p,80h		; q=1
010618 04 80 
01061A 4C44207C 2C2480     A   933    x0_z1_y6	db 'LD |,$',80h				; y=6
                           A   934    			
010621 4C442620 28424329   A   935    x0_z2		db 'LD& (BC)','A'+80h		;y=0
010629 C1 
01062A 4C442620 412C2842   A   936    			db 'LD& A,(BC',')'+80h		;y=1
010632 43A9 
010634 4C442620 28444529   A   937    			db 'LD& (DE),','A'+80h		;y=2
01063C 2CC1 
01063E 4C442620 412C2844   A   938    			db 'LD& A,(DE',')'+80h		;y=3
010646 45A9 
010648 4C442620 2821292C   A   939    			db 'LD& (!),','_'+80h		;y=4
010650 DF 
010651 4C442620 5F2C2821   A   940    			db 'LD& _,(!',')'+80h		;y=5
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  24


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010659 A9 
01065A 4C442620 2821292C   A   941    			db 'LD& (!),','A'+80h		;y=6
010662 C1 
010663 4C442620 412C2821   A   942    			db 'LD& A,(!',')'+80h		;y=7
01066B A9 
                           A   943    
01066C 494E4326 2040 04    A   944    x0_z3		db 'INC& @',var_p,80h		;q=0
010673 80 
010674 44454326 2040 04    A   945    			db 'DEC& @',var_p,80h		;q=1
01067B 80 
                           A   946    			
01067C 494E4320 7E 02 80   A   947    x0_z4		db 'INC ~',var_y,80h		
                           A   948    
010683 44454320 7E 02 80   A   949    x0_z5		db 'DEC ~',var_y,80h		
                           A   950    			
01068A 4C44207E 02 2C5E80   A   951    x0_z6		db 'LD ~',var_y,',^',80h	
010692 4C442024 2C7C80     A   952    alt_x0_z6	db 'LD $,|',80h				; when 
                           A   953    		
010699 524C43C1            A   954    x0_z7		db 'RLC','A'+80h		;y=0
01069D 525243C1            A   955    			db 'RRC','A'+80h		;y=1
0106A1 524CC1              A   956    			db 'RL','A'+80h			;y=2
0106A4 5252C1              A   957    			db 'RR','A'+80h			;y=3
0106A7 4441C1              A   958    			db 'DA','A'+80h			;y=4
0106AA 4350CC              A   959    			db 'CP','L'+80h			;y=5
0106AD 5343C6              A   960    			db 'SC','F'+80h			;y=6 (and n
0106B0 4343C6              A   961    			db 'CC','F'+80h			;y=7 (and n
                           A   962    			
0106B3 4C44205F 2C2480     A   963    alt_x0_z7	db 'LD _,$',80h			;y=6 (DD/FD
0106BA 4C442024 2C5F80     A   964    			db 'LD $,_',80h			;y=7 ("" ""
                           A   965    
                           A   966    
0106C1 4C44207E 02 2C7E    A   967    x1_table	db 'LD ~',var_y,',~',var_z,80h		0106C8 03 80 
0106CA 48414CD4            A   968    x1_y6_z6	db 'HAL','T'+80h					                           A   969    
                           A   970    
                           A   971    
0106CE 3A 02 7E 03 80      A   972    x2_table	db ':',var_y,'~',var_z,80h			                           A   973    			
                           A   974    		
                           A   975    		
0106D3 52455420 23 02 80   A   976    x3_z0		db 'RET #',var_y,80h
                           A   977    
0106DA 504F5026 202A 04    A   978    x3_z1_q0	db 'POP& *',var_p,80h			
0106E1 80 
0106E2 5245D4              A   979    x3_z1_q1	db 'RE','T'+80h			;p=0
0106E5 4558D8              A   980    			db 'EX','X'+80h			;p=1
0106E8 4A502620 5F80       A   981    			db 'JP& _',80h			;p=2
0106EE 4C442620 53502C5F   A   982    			db 'LD& SP,_',80h		;p=3
0106F6 80 
                           A   983    
0106F7 4A502620 23 02      A   984    x3_z2		db 'JP& #',var_y,',!',80h		
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  25


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0106FD 2C2180 
                           A   985    
010700 4A502620 2180       A   986    x3_z3		db 'JP& !',80h			;y = 0
010706 43422070 667880     A   987    			db 'CB pfx',80h			;y = 1
01070D 4F555420 285E292C   A   988    			db 'OUT (^),','A'+80h	;y = 2
010715 C1 
010716 494E2041 2C285EA9   A   989    			db 'IN A,(^',')'+80h	;y = 3
01071E 45582028 5350292C   A   990    			db 'EX (SP),','_'+80h	;y = 4
010726 DF 
010727 45582044 452C48CC   A   991    			db 'EX DE,H','L'+80h	;y = 5
01072F 44C9                A   992    			db 'D','I'+80h			;y = 6
010731 45C9                A   993    			db 'E','I'+80h			;y = 7
                           A   994    
010733 43414C4C 262023 02   A   995    x3_z4		db 'CALL& #',var_y,',!',80h
01073B 2C2180 
                           A   996    
01073E 50555348 26202A 04   A   997    x3_z5_q0	db 'PUSH& *',var_p,80h			
010746 80 
010747 43414C4C 26202180   A   998    x3_z5_q1	db 'CALL& !',80h			;p=0
01074F 44442070 667880     A   999    			db 'DD pfx',80h			;p=1
010756 45442070 667880     A  1000    			db 'ED pfx',80h			;p=2
01075D 20464420 70667880   A  1001    			db' FD pfx',80h			;p=3
                           A  1002    
010765 3A 02 5E80          A  1003    x3_z6		db ':',var_y,'^',80h	;ALU_table(
                           A  1004    
010769 52535420 3B 02 80   A  1005    x3_z7		db 'RST ;',var_y,80h		; rst_t
                           A  1006    
                           A  1007    
                           A  1008    ;--- CB - Prefixed op-codes--------------------
                           A  1009    
                           A  1010    
010770 25 02 2C7E 03 80    A  1011    cb_group		db '%',var_y,',~',var_z,80h		010776 42495420 3E 02      A  1012    				db 'BIT >',var_y,',~',var_z,80h
01077C 2C7E 03 80 
010780 52455320 3E 02      A  1013    				db 'RES >',var_y,',~',var_z,80h
010786 2C7E 03 80 
01078A 53455420 3E 02      A  1014    				db 'SET >',var_y,',~',var_z,80h
010790 2C7E 03 80 
                           A  1015    
                           A  1016    
                           A  1017    ;---- ED - Prefixed op-codes-------------------
                           A  1018    
010794 494E3020 7E 02      A  1019    ed_x0_z0_yn6	db 'IN0 ~',var_y,',(^',')'+80h
01079A 2C285EA9 
01079E 494E3020 285EA9     A  1020    ed_x0_z0_y6		db 'IN0 (^',')'+80h	
                           A  1021    
0107A5 4F555430 207E 02    A  1022    ed_x0_z1		db 'OUT0 ~',var_y,',(^',')'+80h
0107AC 2C285EA9 
0107B0 4C442049 592C285F   A  1023    				db 'LD IY,(_',')'+80h			0107B8 A9 
                           A  1024    
0107B9 4C454120 3C 04      A  1025    ed_x0_z2		db 'LEA <',var_p,',IX/',80h		Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  26


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
0107BF 2C49582F 80 
0107C4 4C454120 7D 04      A  1026    ed_x0_z3		db 'LEA }',var_p,',IY/',80h
0107CA 2C49592F 80 
0107CF 54535420 412C7E 02   A  1027    ed_x0_z4		db 'TST A,~',var_y,80h
0107D7 80 
                           A  1028    
0107D8 4C442028 5F292C7D   A  1029    ed_x0_z6		db  'LD (_),}',var_p,80h
0107E0 04 80 
                           A  1030    
0107E2 4C442028 5F292C3C   A  1031    ed_x0_z7		db	'LD (_),<',var_p,80h		0107EA 04 80 
0107EC 4C442049 582C285F   A  1032    				db  'LD IX,(_',')'+80h			0107F4 A9 
                           A  1033    
                           A  1034    
0107F5 494E207E 02         A  1035    ed_x1_z0_yn6	db 'IN ~',var_y,',(BC',')'+80h
0107FA 2C284243 A9 
0107FF 494E2028 43A9       A  1036    ed_x1_z0_y6		db 'IN (C',')'+80h
                           A  1037    
010805 4F555420 2843292C   A  1038    ed_x1_z1_yn6	db 'OUT (C),~',var_y,80h
01080D 7E 02 80 
010810 4F555420 2843292C   A  1039    ed_x1_z1_y6		db 'OUT (C),','0'+80h
010818 B0 
                           A  1040    
010819 53424326 20484C2C   A  1041    ed_x1_z2		db 'SBC& HL,@',var_p,80h		010821 40 04 80 
010824 41444326 20484C2C   A  1042    				db 'ADC& HL,@',var_p,80h		01082C 40 04 80 
                           A  1043    
01082F 4C442620 2821292C   A  1044    ed_x1_z3		db 'LD& (!),@',var_p,80h		010837 40 04 80 
01083A 4C442620 40 04      A  1045    				db 'LD& @',var_p,'(!',')'+80h	010840 2821A9 
                           A  1046    
010843 4E45C7              A  1047    ed_x1_z4		db 'NE','G'+80h				;y=
010846 4D4C5420 42C3       A  1048    				db 'MLT B','C'+80h			;y=
01084C 4C454120 49582C49   A  1049    				db 'LEA IX,IY/',80h			;y=
010854 592F80 
010857 4D4C5420 44C5       A  1050    				db 'MLT D','E'+80h			;y=
01085D 54535420 412C5E80   A  1051    				db 'TST A,^',80h			;y=
010865 4D4C5420 48CC       A  1052    				db 'MLT H','L'+80h			;y=
01086B 54535449 4F205E80   A  1053    				db 'TSTIO ^',80h			;y=
010873 4D4C5420 53D0       A  1054    				db 'MLT S','P'+80h 			;y=
                           A  1055    
010879 524554CE            A  1056    ed_x1_z5		db 'RET','N'+80h			;y=
01087D 524554C9            A  1057    				db 'RET','I'+80h			;y=
010881 4C454120 49592C49   A  1058    				db 'LEA IY,IX/',80h			;y=
010889 582F80 
01088C BF                  A  1059    				db '?'+80h					;y=
01088D 50454120 49582F80   A  1060    				db 'PEA IX/',80h			;y=
010895 4C44204D 422CC1     A  1061    				db 'LD MB,','A'+80h			;y=
01089C BF                  A  1062    				db '?'+80h					;y=
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  27


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
01089D 53544D49 D8         A  1063    				db 'STMI','X'+80h			;y=
                           A  1064    				
                           A  1065    	
0108A2 494D20B0            A  1066    ed_x1_z6		db 'IM ','0'+80h			;y=
0108A6 BF                  A  1067    				db '?'+80h					;y=
0108A7 494D20B1            A  1068    				db 'IM ','1'+80h			;y=
0108AB 494D20B2            A  1069    				db 'IM ','2'+80h			;y=
0108AF 50454120 49592F80   A  1070    				db 'PEA IY/',80h			;y=
0108B7 4C442041 2C4DC2     A  1071    				db 'LD A,','M','B'+80h		;y=
0108BE 534CD0              A  1072    				db 'SL','P'+80h				;y=
0108C1 52534D49 D8         A  1073    				db 'RSMI','X'+80h			;y=
                           A  1074    
0108C6 4C442049 2CC1       A  1075    ed_x1_z7		db 'LD I,','A'+80h			;y=
0108CC 4C442052 2CC1       A  1076    				db 'LD R,','A'+80h			;y=
0108D2 4C442041 2CC9       A  1077    				db 'LD A,','I'+80h			;y=
0108D8 4C442041 2CD2       A  1078    				db 'LD A,','R'+80h			;y=
0108DE 5252C4              A  1079    				db 'RR','D'+80h				;y=
0108E1 524CC4              A  1080    				db 'RL','D'+80h				;y=
0108E4 4E4FD0              A  1081    				db 'NO','P'+80h				;y=
0108E7 4E4FD0              A  1082    				db 'NO','P'+80h				;y=
                           A  1083    
                           A  1084    
0108EA BFBFBFBF            A  1085    ed_x2_z0		db '?'+80h,'?'+80h,'?'+80h,'?'+
0108EE 4C44C9              A  1086    				db 'LD','I'+80h					0108F1 4C44C4              A  1087    				db 'LD','D'+80h					0108F4 4C4449D2            A  1088    				db 'LDI','R'+80h				0108F8 4C4444D2            A  1089    				db 'LDD','R'+80h				                           A  1090    
0108FC BFBFBFBF            A  1091    ed_x2_z1		db '?'+80h,'?'+80h,'?'+80h,'?'+
010900 4350C9              A  1092    				db 'CP','I'+80h					010903 4350C4              A  1093    				db 'CP','D'+80h					010906 435049D2            A  1094    				db 'CPI','R'+80h				01090A 435044D2            A  1095    				db 'CPD','R'+80h				                           A  1096    
01090E 494E49CD            A  1097    ed_x2_z2		db 'INI','M'+80h		; y0	010912 494E44CD            A  1098    				db 'IND','M'+80h		; y1
010916 494E494D D2         A  1099    				db 'INIM','R'+80h		; y2
01091B 494E444D D2         A  1100    				db 'INDM','R'+80h		; y3
010920 494EC9              A  1101    				db 'IN','I'+80h			; y4
010923 494EC4              A  1102    				db 'IN','D'+80h			; y5
010926 494E49D2            A  1103    				db 'INI','R'+80h		; y6
01092A 494E44D2            A  1104    				db 'IND','R'+80h		; y7
                           A  1105    
                           A  1106    
01092E 4F5449CD            A  1107    ed_x2_z3		db 'OTI','M'+80h		; y0
010932 4F5444CD            A  1108    				db 'OTD','M'+80h		; y1
010936 4F54494D D2         A  1109    				db 'OTIM','R'+80h		; y2
01093B 4F54444D D2         A  1110    				db 'OTDM','R'+80h		; y3
010940 4F5554C9            A  1111    				db 'OUT','I'+80h		; y4
010944 4F5554C4            A  1112    				db 'OUT','D'+80h		; y5
010948 4F5449D2            A  1113    				db 'OTI','R'+80h		; y6
01094C 4F5444D2            A  1114    				db 'OTD','R'+80h		; y7
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  28


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A  1115    
010950 494E49B2            A  1116    ed_x2_z4		db 'INI','2'+80h		; y0
010954 494E44B2            A  1117    				db 'IND','2'+80h		; y1
010958 494E4932 D2         A  1118    				db 'INI2','R'+80h		; y2
01095D 494E4432 D2         A  1119    				db 'IND2','R'+80h		; y3
010962 4F555449 B2         A  1120    				db 'OUTI','2'+80h		; y4
010967 4F555444 B2         A  1121    				db 'OUTD','2'+80h		; y5
01096C 4F544932 D2         A  1122    				db 'OTI2','R'+80h		; y6
010971 4F544432 D2         A  1123    				db 'OTD2','R'+80h		; y7
                           A  1124    
                           A  1125    
010976 494E4952 D8         A  1126    ed_x3_z2		db 'INIR','X'+80h 		; y0
01097B 494E4452 D8         A  1127    				db 'INDR','X'+80h		; y1
                           A  1128    
010980 4F544952 D8         A  1129    ed_x3_z3		db 'OTIR','X'+80h		; y0
010985 4F544452 D8         A  1130    				db 'OTDR','X'+80h		; y1
                           A  1131    			
                           A  1132    
                           A  1133    ;--- DDCB or FDCB - Prefixed op-codes----------
                           A  1134    
                           A  1135    
01098A 4C44207E 03 2C25    A  1136    ddcb_fdcb_zn6	db 'LD ~',var_z, ',%',var_y,' $
010991 02 202480 
010995 42495420 3E 02      A  1137    				db 'BIT >',var_y,',$',80h		01099B 2C2480 
01099E 4C44207E 03         A  1138    				db 'LD ~',var_z,',RES >',var_y,
0109A3 2C524553 203E 02 
0109AA 2C2480 
0109AD 4C44207E 03         A  1139    				db 'LD ~',var_z,',SET >',var_y,
0109B2 2C534554 203E 02 
0109B9 2C2480 
                           A  1140    
0109BC 25 02 202480        A  1141    ddcb_fdcb_z6	db '%',var_y,' $',80h			0109C1 42495420 3E 02      A  1142    				db 'BIT >',var_y,',$',80h		0109C7 2C2480 
0109CA 52455320 3E 02      A  1143    				db 'RES >',var_y,',$',80h		0109D0 2C2480 
0109D3 53455420 3E 02      A  1144    				db 'SET >',var_y,',$',80h		0109D9 2C2480 
                           A  1145    
                           A  1146    
                           A  1147    ;----------------------------------------------
                           A  1148    
0109DC 3F3FBF              A  1149    bad_opcode	db '??','?'+80h
                           A  1150    
                           A  1151    ;----------------------------------------------
                           A  1152    
                           A  1153    
0109DF C2C3C4C5 68806C80   A  1154    table_r		db 'B'+80h, 'C'+80h, 'D'+80h, 'E'+8
0109E7 2480C1 
                           A  1155    
0109EA 42C344C5 DF53D0     A  1156    table_rp	db 'B','C'+80h, 'D','E'+80h, '_'+80
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  29


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A  1157    
0109F1 42C344C5 5F8041C6   A  1158    table_rp2	db 'B','C'+80h, 'D','E'+80h, '_',+8
                           A  1159    	
0109F9 4EDADA4E C3C350CF   A  1160    table_cc	db 'N','Z'+80h, 'Z'+80h, 'N','C'+80
010A01 50C5D0CD 
                           A  1161    	
010A05 41444420 41AC4144   A  1162    table_alu	db 'ADD A',','+80h, 'ADC A',','+80h
010A0D 432041AC 535542A0 
010A15 53424320 41AC 
010A1B 414E44A0 584F52A0   A  1163    			db 'AND',' '+80h, 'XOR',' '+80h, 'O
010A23 4F52A043 50A0 
                           A  1164    			
010A29 524CC352 52C352CC   A  1165    table_rot	db 'RL','C'+80h, 'RR','C'+80h, 'R',
010A31 52D2 
010A33 534CC153 52C1534C   A  1166    			db 'SL','A'+80h, 'SR','A'+80h, 'SL'
010A3B CC5352CC 
                           A  1167    	
010A3F 42C344C5 48CC49D8   A  1168    table_rp3	db 'B','C'+80h, 'D','E'+80h, 'H','L
                           A  1169    
010A47 42C344C5 48CC49D9   A  1170    table_rp4	db 'B','C'+80h, 'D','E'+80h, 'H','L
                           A  1171    			
010A4F 30B0                A  1172    table_rst	db '0','0'+80h
010A51 30B8                A  1173    			db '0','8'+80h
010A53 31B0                A  1174    			db '1','0'+80h
010A55 31B8                A  1175    			db '1','8'+80h
010A57 32B0                A  1176    			db '2','0'+80h
010A59 32B8                A  1177    			db '2','8'+80h	
010A5B 33B0                A  1178    			db '3','0'+80h
010A5D 33B8                A  1179    			db '3','8'+80h			
                           A  1180    
                           A  1181    
                           A  1182    
                           A  1183    
                           A  1184    ;----------------------------------------------
                           A  1185    
                           A  1186    ; "_" = HL, IX, IY depending on prefix 
                           A  1187    ; "|" = as above with IX/IY switched
                           A  1188    
                           A  1189    ; "h" = H, IXH, IYL depending on prefix
                           A  1190    ; "l" = L, IXL, IYL depending on prefix
                           A  1191    ; "$" = (HL), (IX+d), (IY+d) depending on prefi
                           A  1192    
010A5F 48CC49D8 49D9       A  1193    hl_subs		db 'H','L'+80h, 'I','X'+80h, 'I','Y
010A65 48CC49D9 49D8       A  1194    inv_hl_subs	db 'H','L'+80h, 'I','Y'+80h, 'I','X
010A6B C84958C8 4959C8     A  1195    h_subs		db 'H'+80h, 'IX','H'+80h, 'IY','H'+
010A72 CC4958CC 4959CC     A  1196    l_subs		db 'L'+80h, 'IX','L'+80h, 'IY','L'+
010A79 28484CA9 2849582F   A  1197    ind_hl_subs	db '(HL',')'+80h, '(IX/',')'+80h, '
010A81 A9284959 2FA9 
                           A  1198    
                           A  1199    ;----------------------------------------------
                           A  1200    
010A87                     A  1201    adl_prefix_list
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  30


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
                           A  1202    
010A87 2E5349D3 2E4C49D3   A  1203    			db '.SI','S'+80h, '.LI','S'+80h, '.
010A8F 2E5349CC 2E4C49CC 
                           A  1204    
                           A  1205    ;----------------------------------------------
                           A  1206    
                           A  1207    
010A97 000000              A  1208    d_work_address	dw24 0
                           A  1209    
010A9A 2D2D00              A  1210    output_byte_txt	db "--",0
010A9D 2D00                A  1211    output_char_txt	db "-",0
                           A  1212    
010A9F A20A01              A  1213    dis_addr		dw24 test_code
                           A  1214    
                           A  1215    ;----------------------------------------------
                           A  1216    
010AA2 78                  A  1217    test_code		ld a,b
010AA3 79                  A  1218    				ld a,c
010AA4 7A                  A  1219    				ld a,d
010AA5 7B                  A  1220    				ld a,e
010AA6 7C                  A  1221    				ld a,h
010AA7 7D                  A  1222    				ld a,l
010AA8 7E                  A  1223    				ld a,(hl)
010AA9 47                  A  1224    				ld b,a
010AAA 41                  A  1225    				ld b,c
010AAB 42                  A  1226    				ld b,d
010AAC 43                  A  1227    				ld b,e
010AAD 44                  A  1228    				ld b,h
010AAE 45                  A  1229    				ld b,l
010AAF 46                  A  1230    				ld b,(hl)
                           A  1231    				
010AB0 3E12                A  1232    				ld a,12h
010AB2 3A563412            A  1233    				ld a,(123456h)
                           A  1234    				
010AB6 0612                A  1235    				ld b,12h
010AB8 01563412            A  1236    				ld bc,123456h
                           A  1237    				
010ABC 11563412            A  1238    				ld de,123456h
                           A  1239    				
010AC0 DD215634 12         A  1240    				ld ix,123456h
                           A  1241    				
010AC5 FD215634 12         A  1242    				ld iy,123456h
                           A  1243    				
                           A  1244    
010ACA ED3202              A  1245    				lea ix,ix+2
010ACD ED5402              A  1246    				lea ix,iy+2
010AD0 ED5502              A  1247    				lea iy,ix+2
010AD3 ED33FE              A  1248    				lea iy,iy-2
010AD6 ED0202              A  1249    				lea bc,ix+2
010AD9 ED0302              A  1250    				lea bc,iy+2
010ADC ED2202              A  1251    				lea hl,ix+2
010ADF ED2302              A  1252    				lea hl,iy+2
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  31


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010AE2 ED1202              A  1253    				lea de,ix+2
010AE5 ED1302              A  1254    				lea de,iy+2
                           A  1255    			
                           A  1256    
010AE8 37                  A  1257    				scf
                           A  1258    
010AE9 DD3F03              A  1259    				ld (ix+3),ix
010AEC FD3F04              A  1260    				ld (iy+4),iy
                           A  1261    				
010AEF FD3E05              A  1262    				ld (iy+5),ix
010AF2 DD3E06              A  1263    				ld (ix+6),iy
                           A  1264    				
010AF5 ED37                A  1265    				ld ix,(hl)
010AF7 ED31                A  1266    				ld iy,(hl)
                           A  1267    				
010AF9 DD3102              A  1268    				ld iy,(ix+2)
010AFC FD3102              A  1269    				ld ix,(iy+2)
010AFF FD3701              A  1270    				ld iy,(iy+1)
010B02 DD3701              A  1271    				ld ix,(ix+1)
                           A  1272    				
                           A  1273    				
                           A  1274    				
010B05 00                  A  1275    				nop
                           A  1276    				
010B06 ED1F                A  1277    				ld (hl),de
010B08 ED3F                A  1278    				ld (hl),ix
010B0A ED0F                A  1279    				ld (hl),bc
                           A  1280    				
010B0C DD68                A  1281    				ld ixl,b
010B0E DD61                A  1282    				ld ixh,c
010B10 FD6A                A  1283    				ld iyl,d
010B12 FD63                A  1284    				ld iyh,e
                           A  1285    						
010B14 ED735634 12         A  1286    				ld (123456h),sp
                           A  1287    				
010B19 AF                  A  1288    				xor a
010B1A DDAD                A  1289    				xor a,ixl
                           A  1290    				
010B1C 38 FE               A  1291    here2			jr c,here2
010B1E ED57                A  1292    				ld a,i
010B20 ED5F                A  1293    				ld a,r
010B22 3A563412            A  1294    				ld a,(123456h)
010B26 0A                  A  1295    				ld a,(bc)
                           A  1296    				
                           A  1297    				
010B27 C2332211            A  1298    				jp nz,112233h
010B2B 5BC37766 55         A  1299    				jp.lil 556677h
010B30 E9                  A  1300    				jp (hl)
010B31 DDE9                A  1301    				jp (ix)
                           A  1302    				
                           A  1303    				
010B33 3F                  A  1304    				ccf
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  32


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010B34 BE                  A  1305    				cp a,(hl)
010B35 FE55                A  1306    				cp a,55h
010B37 DDBE02              A  1307    				cp a,(ix+2)
010B3A 27                  A  1308    				daa
010B3B 23                  A  1309    				inc hl
010B3C DD23                A  1310    				inc ix
010B3E 03                  A  1311    				inc bc
010B3F C3302010            A  1312    				jp 102030h
                           A  1313    				
                           A  1314    				
010B43 10 FE               A  1315    here			djnz here
010B45 10 00               A  1316    				djnz ahead
010B47 FB                  A  1317    ahead			ei
010B48 3D                  A  1318    				dec a
010B49 35                  A  1319    				dec (hl)
010B4A DD3500              A  1320    				dec (ix)
010B4D 3B                  A  1321    				dec sp
010B4E 1B                  A  1322    				dec de
010B4F F3                  A  1323    				di
                           A  1324    				
010B50 FB                  A  1325    				ei
010B51 D9                  A  1326    				exx
010B52 08                  A  1327    				ex af,af'
010B53 EB                  A  1328    				ex de,hl
010B54 E3                  A  1329    				ex (sp),hl
010B55 DDE3                A  1330    				ex (sp),ix
010B57 FDE3                A  1331    				ex (sp),iy
010B59 76                  A  1332    				halt
                           A  1333    				
                           A  1334    
010B5A 5BCD5634 12         A  1335    				call.lil 123456h
010B5F 5BC45634 12         A  1336    				call.lil nz,123456h
                           A  1337    				
010B64 CD563412            A  1338    				call 123456h
010B68 C4563412            A  1339    				call nz,123456h
                           A  1340    
010B6C CB47                A  1341    				bit 0,a
010B6E CB4B                A  1342    				bit 1,e
010B70 CB7E                A  1343    				bit 7,(hl)
010B72 DDCB016E            A  1344    				bit 5,(ix+1)
010B76 FDCB0276            A  1345    				bit 6,(iy+2)
                           A  1346    				
                           A  1347    				
                           A  1348    
010B7A DD29                A  1349    				add ix,ix
010B7C FD29                A  1350    				add iy,iy
010B7E DD39                A  1351    				add ix,sp
010B80 FD39                A  1352    				add iy,sp
010B82 00                  A  1353    				nop
010B83 00                  A  1354    				nop
                           A  1355    
010B84 DD84                A  1356    				add a,ixh
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  33


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010B86 DD85                A  1357    				add a,ixl
010B88 FD84                A  1358    				add a,iyh
010B8A FD85                A  1359    				add a,iyl
010B8C 00                  A  1360    				nop
010B8D 00                  A  1361    				nop
                           A  1362    				
010B8E 87                  A  1363    				add a,a
010B8F 80                  A  1364    				add a,b
010B90 81                  A  1365    				add a,c
010B91 86                  A  1366    				add a,(hl)
010B92 00                  A  1367    				nop
010B93 00                  A  1368    				nop
                           A  1369    				
010B94 09                  A  1370    				add hl,bc
010B95 19                  A  1371    				add hl,de
010B96 29                  A  1372    				add hl,hl
010B97 39                  A  1373    				add hl,sp
010B98 4009                A  1374    				add.sis hl,bc
010B9A 00                  A  1375    				nop
010B9B 00                  A  1376    				nop
                           A  1377    
010B9C 5B215634 12         A  1378    				ld.lil hl,123456h
010BA1 40213412            A  1379    				ld.sis hl,1234h
010BA5 00                  A  1380    				nop
010BA6 00                  A  1381    				nop
                           A  1382    				
                           A  1383    
                           A  1384    
010BA7 EDA9                A  1385    				cpd
010BA9 EDB9                A  1386    				cpdr
010BAB EDA1                A  1387    				cpi
010BAD EDB1                A  1388    				cpir
                           A  1389    				
010BAF EDAA                A  1390    				ind
010BB1 ED8C                A  1391    				ind2
010BB3 ED9C                A  1392    				ind2r
010BB5 ED8A                A  1393    				indm
010BB7 EDBA                A  1394    				indr
010BB9 EDCA                A  1395    				indrx
010BBB EDA2                A  1396    				ini
010BBD ED84                A  1397    				ini2
010BBF ED94                A  1398    				ini2r
010BC1 ED82                A  1399    				inim
010BC3 ED92                A  1400    				inimr
010BC5 EDB2                A  1401    				inir
010BC7 EDC2                A  1402    				inirx
                           A  1403    				
010BC9 EDA8                A  1404    				ldd
010BCB EDB8                A  1405    				lddr
010BCD EDA0                A  1406    				ldi
010BCF EDB0                A  1407    				ldir
                           A  1408    				
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  34


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010BD1 EDBC                A  1409    				otd2r
010BD3 ED8B                A  1410    				otdm
010BD5 ED9B                A  1411    				otdmr
010BD7 EDBB                A  1412    				otdr
010BD9 EDCB                A  1413    				otdrx
010BDB EDB4                A  1414    				oti2r
010BDD ED83                A  1415    				otim
010BDF ED93                A  1416    				otimr
010BE1 EDB3                A  1417    				otir
010BE3 EDC3                A  1418    				otirx
                           A  1419    				
010BE5 00                  A  1420    				nop
010BE6 00                  A  1421    				nop
010BE7 00                  A  1422    				nop
                           A  1423    				
010BE8 ED4C                A  1424    				mlt bc
010BEA ED44                A  1425    				neg
010BEC B6                  A  1426    				or a,(hl)
010BED F5                  A  1427    				push af
010BEE DDE5                A  1428    				push ix
010BF0 E1                  A  1429    				pop hl
                           A  1430    				
010BF1 CB80                A  1431    				res 0,b
010BF3 C9                  A  1432    				ret
010BF4 ED4D                A  1433    				reti
010BF6 ED45                A  1434    				retn
010BF8 CB16                A  1435    				rl (hl)
010BFA ED6F                A  1436    				rld
010BFC 07                  A  1437    				rlca
                           A  1438    				
010BFD ED4F                A  1439    				ld r,a
010BFF ED5F                A  1440    				ld a,r
                           A  1441    
010C01 ED52                A  1442    				sbc hl,de
010C03 ED42                A  1443    				sbc hl,bc
010C05 ED62                A  1444    				sbc hl,hl
010C07 09                  A  1445    				add hl,bc
010C08 ED5A                A  1446    				adc hl,de
010C0A DD09                A  1447    				add ix,bc
010C0C FD19                A  1448    				add iy,de
                           A  1449    				
010C0E DD64                A  1450    				ld ixh,ixh
010C10 DD65                A  1451    				ld ixh,ixl
010C12 DD6C                A  1452    				ld ixl,ixh
010C14 DD6D                A  1453    				ld ixl,ixl
010C16 FD64                A  1454    				ld iyh,iyh
010C18 FD65                A  1455    				ld iyh,iyl
010C1A FD6C                A  1456    				ld iyl,iyh
010C1C FD6D                A  1457    				ld iyl,iyl
                           A  1458    				
010C1E DD2E22              A  1459    				ld ixl,22h
010C21 DD2633              A  1460    				ld ixh,33h
Zilog eZ80 Macro Assembler Version 4.1 (10060805)07-Aug-11     17:11:36     page:  35


PC     Object              I  Line    Source E:\MY_OWN~1\Coding\ez80p\Code\PROSEB~1\Phil\tests\dis\source\dis.asm
010C24 FD2E44              A  1461    				ld iyl,44h
010C27 FD2655              A  1462    				ld iyh,55h
                           A  1463    				
                           A  1464    				


Errors: 1
Warnings: 0
Lines Assembled: 1712
